(self["webpackChunk_lace_browser_extension_wallet"]=self["webpackChunk_lace_browser_extension_wallet"]||[]).push([[762],{1139:(e,t,n)=>{"use strict";n.d(t,{generate:()=>generate,presetPrimaryColors:()=>p});var r=n(23997);var i=n(34633);var a=2;var o=.16;var s=.05;var l=.05;var u=.15;var h=5;var f=4;var d=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function toHsv(e){var t=e.r,n=e.g,i=e.b;var a=(0,r.py)(t,n,i);return{h:360*a.h,s:a.s,v:a.v}}function toHex(e){var t=e.r,n=e.g,i=e.b;return"#".concat((0,r.vq)(t,n,i,false))}function mix(e,t,n){var r=n/100;var i={r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b};return i}function getHue(e,t,n){var r;r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-a*t:Math.round(e.h)+a*t:n?Math.round(e.h)+a*t:Math.round(e.h)-a*t;if(r<0)r+=360;else if(r>=360)r-=360;return r}function getSaturation(e,t,n){if(0===e.h&&0===e.s)return e.s;var r;r=n?e.s-o*t:t===f?e.s+o:e.s+s*t;if(r>1)r=1;if(n&&t===h&&r>.1)r=.1;if(r<.06)r=.06;return Number(r.toFixed(2))}function getValue(e,t,n){var r;r=n?e.v+l*t:e.v-u*t;if(r>1)r=1;return Number(r.toFixed(2))}function generate(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=[];var r=(0,i.uA)(e);for(var a=h;a>0;a-=1){var o=toHsv(r);var s=toHex((0,i.uA)({h:getHue(o,a,true),s:getSaturation(o,a,true),v:getValue(o,a,true)}));n.push(s)}n.push(toHex(r));for(var l=1;l<=f;l+=1){var u=toHsv(r);var p=toHex((0,i.uA)({h:getHue(u,l),s:getSaturation(u,l),v:getValue(u,l)}));n.push(p)}if("dark"===t.theme)return d.map(function(e){var r=e.index,a=e.opacity;var o=toHex(mix((0,i.uA)(t.backgroundColor||"#141414"),(0,i.uA)(n[r]),100*a));return o});return n}var p={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"};var m={};var g={};Object.keys(p).forEach(function(e){m[e]=generate(p[e]);m[e].primary=m[e][5];g[e]=generate(p[e],{theme:"dark",backgroundColor:"#141414"});g[e].primary=g[e][5]});var y=m.red;var v=m.volcano;var b=m.gold;var w=m.orange;var x=m.yellow;var _=m.lime;var k=m.green;var C=m.cyan;var P=m.blue;var S=m.geekblue;var T=m.purple;var E=m.magenta;var R=m.grey},23997:(e,t,n)=>{"use strict";n.d(t,{T6:()=>convertHexToDecimal,VD:()=>parseIntFromHex,WE:()=>hsvToRgb,Yt:()=>numberInputToObject,lC:()=>rgbToHsl,py:()=>rgbToHsv,rW:()=>rgbToRgb,s:()=>rgbaToHex,ve:()=>hslToRgb,vq:()=>rgbToHex});var r=n(44705);function rgbToRgb(e,t,n){return{r:255*(0,r.sh)(e,255),g:255*(0,r.sh)(t,255),b:255*(0,r.sh)(n,255)}}function rgbToHsl(e,t,n){e=(0,r.sh)(e,255);t=(0,r.sh)(t,255);n=(0,r.sh)(n,255);var i=Math.max(e,t,n);var a=Math.min(e,t,n);var o=0;var s=0;var l=(i+a)/2;if(i===a){s=0;o=0}else{var u=i-a;s=l>.5?u/(2-i-a):u/(i+a);switch(i){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4;break;default:break}o/=6}return{h:o,s:s,l:l}}function hue2rgb(e,t,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return e+(t-e)*(6*n);if(n<.5)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;return e}function hslToRgb(e,t,n){var i;var a;var o;e=(0,r.sh)(e,360);t=(0,r.sh)(t,100);n=(0,r.sh)(n,100);if(0===t){a=n;o=n;i=n}else{var s=n<.5?n*(1+t):n+t-n*t;var l=2*n-s;i=hue2rgb(l,s,e+1/3);a=hue2rgb(l,s,e);o=hue2rgb(l,s,e-1/3)}return{r:255*i,g:255*a,b:255*o}}function rgbToHsv(e,t,n){e=(0,r.sh)(e,255);t=(0,r.sh)(t,255);n=(0,r.sh)(n,255);var i=Math.max(e,t,n);var a=Math.min(e,t,n);var o=0;var s=i;var l=i-a;var u=0===i?0:l/i;if(i===a)o=0;else{switch(i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break;default:break}o/=6}return{h:o,s:u,v:s}}function hsvToRgb(e,t,n){e=6*(0,r.sh)(e,360);t=(0,r.sh)(t,100);n=(0,r.sh)(n,100);var i=Math.floor(e);var a=e-i;var o=n*(1-t);var s=n*(1-a*t);var l=n*(1-(1-a)*t);var u=i%6;var h=[n,s,o,o,l,n][u];var f=[l,n,n,s,o,o][u];var d=[o,o,l,n,n,s][u];return{r:255*h,g:255*f,b:255*d}}function rgbToHex(e,t,n,i){var a=[(0,r.FZ)(Math.round(e).toString(16)),(0,r.FZ)(Math.round(t).toString(16)),(0,r.FZ)(Math.round(n).toString(16))];if(i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1)))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0);return a.join("")}function rgbaToHex(e,t,n,i,a){var o=[(0,r.FZ)(Math.round(e).toString(16)),(0,r.FZ)(Math.round(t).toString(16)),(0,r.FZ)(Math.round(n).toString(16)),(0,r.FZ)(convertDecimalToHex(i))];if(a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1)))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}function convertDecimalToHex(e){return Math.round(255*parseFloat(e)).toString(16)}function convertHexToDecimal(e){return parseIntFromHex(e)/255}function parseIntFromHex(e){return parseInt(e,16)}function numberInputToObject(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}},34633:(e,t,n)=>{"use strict";n.d(t,{uA:()=>inputToRGB});var r=n(23997);var i=n(8182);var a=n(44705);function inputToRGB(e){var t={r:0,g:0,b:0};var n=1;var i=null;var o=null;var s=null;var l=false;var u=false;if("string"==typeof e)e=stringInputToObject(e);if("object"==typeof e){if(isValidCSSUnit(e.r)&&isValidCSSUnit(e.g)&&isValidCSSUnit(e.b)){t=(0,r.rW)(e.r,e.g,e.b);l=true;u="%"===String(e.r).substr(-1)?"prgb":"rgb"}else if(isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.v)){i=(0,a.JX)(e.s);o=(0,a.JX)(e.v);t=(0,r.WE)(e.h,i,o);l=true;u="hsv"}else if(isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.l)){i=(0,a.JX)(e.s);s=(0,a.JX)(e.l);t=(0,r.ve)(e.h,i,s);l=true;u="hsl"}if(Object.prototype.hasOwnProperty.call(e,"a"))n=e.a}n=(0,a.Yq)(n);return{ok:l,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var o="[-\\+]?\\d+%?";var s="[-\\+]?\\d*\\.\\d+%?";var l="(?:"+s+")|(?:"+o+")";var u="[\\s|\\(]+("+l+")[,|\\s]+("+l+")[,|\\s]+("+l+")\\s*\\)?";var h="[\\s|\\(]+("+l+")[,|\\s]+("+l+")[,|\\s]+("+l+")[,|\\s]+("+l+")\\s*\\)?";var f={CSS_UNIT:new RegExp(l),rgb:new RegExp("rgb"+u),rgba:new RegExp("rgba"+h),hsl:new RegExp("hsl"+u),hsla:new RegExp("hsla"+h),hsv:new RegExp("hsv"+u),hsva:new RegExp("hsva"+h),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(e){e=e.trim().toLowerCase();if(0===e.length)return false;var t=false;if(i.R[e]){e=i.R[e];t=true}else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=f.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};n=f.rgba.exec(e);if(n)return{r:n[1],g:n[2],b:n[3],a:n[4]};n=f.hsl.exec(e);if(n)return{h:n[1],s:n[2],l:n[3]};n=f.hsla.exec(e);if(n)return{h:n[1],s:n[2],l:n[3],a:n[4]};n=f.hsv.exec(e);if(n)return{h:n[1],s:n[2],v:n[3]};n=f.hsva.exec(e);if(n)return{h:n[1],s:n[2],v:n[3],a:n[4]};n=f.hex8.exec(e);if(n)return{r:(0,r.VD)(n[1]),g:(0,r.VD)(n[2]),b:(0,r.VD)(n[3]),a:(0,r.T6)(n[4]),format:t?"name":"hex8"};n=f.hex6.exec(e);if(n)return{r:(0,r.VD)(n[1]),g:(0,r.VD)(n[2]),b:(0,r.VD)(n[3]),format:t?"name":"hex"};n=f.hex4.exec(e);if(n)return{r:(0,r.VD)(n[1]+n[1]),g:(0,r.VD)(n[2]+n[2]),b:(0,r.VD)(n[3]+n[3]),a:(0,r.T6)(n[4]+n[4]),format:t?"name":"hex8"};n=f.hex3.exec(e);if(n)return{r:(0,r.VD)(n[1]+n[1]),g:(0,r.VD)(n[2]+n[2]),b:(0,r.VD)(n[3]+n[3]),format:t?"name":"hex"};return false}function isValidCSSUnit(e){return Boolean(f.CSS_UNIT.exec(String(e)))}},3957:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var r=n(23997);var i=n(8182);var a=n(34633);var o=n(44705);var s=function(){function TinyColor(e,t){if(void 0===e)e="";if(void 0===t)t={};var n;if(e instanceof TinyColor)return e;if("number"==typeof e)e=(0,r.Yt)(e);this.originalInput=e;var i=(0,a.uA)(e);this.originalInput=e;this.r=i.r;this.g=i.g;this.b=i.b;this.a=i.a;this.roundA=Math.round(100*this.a)/100;this.format=null!==(n=t.format)&&void 0!==n?n:i.format;this.gradientType=t.gradientType;if(this.r<1)this.r=Math.round(this.r);if(this.g<1)this.g=Math.round(this.g);if(this.b<1)this.b=Math.round(this.b);this.isValid=i.ok}TinyColor.prototype.isDark=function(){return this.getBrightness()<128};TinyColor.prototype.isLight=function(){return!this.isDark()};TinyColor.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3};TinyColor.prototype.getLuminance=function(){var e=this.toRgb();var t;var n;var r;var i=e.r/255;var a=e.g/255;var o=e.b/255;t=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4);n=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4);r=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4);return .2126*t+.7152*n+.0722*r};TinyColor.prototype.getAlpha=function(){return this.a};TinyColor.prototype.setAlpha=function(e){this.a=(0,o.Yq)(e);this.roundA=Math.round(100*this.a)/100;return this};TinyColor.prototype.toHsv=function(){var e=(0,r.py)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}};TinyColor.prototype.toHsvString=function(){var e=(0,r.py)(this.r,this.g,this.b);var t=Math.round(360*e.h);var n=Math.round(100*e.s);var i=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this.roundA+")"};TinyColor.prototype.toHsl=function(){var e=(0,r.lC)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}};TinyColor.prototype.toHslString=function(){var e=(0,r.lC)(this.r,this.g,this.b);var t=Math.round(360*e.h);var n=Math.round(100*e.s);var i=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this.roundA+")"};TinyColor.prototype.toHex=function(e){if(void 0===e)e=false;return(0,r.vq)(this.r,this.g,this.b,e)};TinyColor.prototype.toHexString=function(e){if(void 0===e)e=false;return"#"+this.toHex(e)};TinyColor.prototype.toHex8=function(e){if(void 0===e)e=false;return(0,r.s)(this.r,this.g,this.b,this.a,e)};TinyColor.prototype.toHex8String=function(e){if(void 0===e)e=false;return"#"+this.toHex8(e)};TinyColor.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}};TinyColor.prototype.toRgbString=function(){var e=Math.round(this.r);var t=Math.round(this.g);var n=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+n+")":"rgba("+e+", "+t+", "+n+", "+this.roundA+")"};TinyColor.prototype.toPercentageRgb=function(){var fmt=function(e){return Math.round(100*(0,o.sh)(e,255))+"%"};return{r:fmt(this.r),g:fmt(this.g),b:fmt(this.b),a:this.a}};TinyColor.prototype.toPercentageRgbString=function(){var rnd=function(e){return Math.round(100*(0,o.sh)(e,255))};return 1===this.a?"rgb("+rnd(this.r)+"%, "+rnd(this.g)+"%, "+rnd(this.b)+"%)":"rgba("+rnd(this.r)+"%, "+rnd(this.g)+"%, "+rnd(this.b)+"%, "+this.roundA+")"};TinyColor.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return false;var e="#"+(0,r.vq)(this.r,this.g,this.b,false);for(var t=0,n=Object.entries(i.R);t<n.length;t++){var a=n[t],o=a[0],s=a[1];if(e===s)return o}return false};TinyColor.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var n=false;var r=this.a<1&&this.a>=0;var i=!t&&r&&(e.startsWith("hex")||"name"===e);if(i){if("name"===e&&0===this.a)return this.toName();return this.toRgbString()}if("rgb"===e)n=this.toRgbString();if("prgb"===e)n=this.toPercentageRgbString();if("hex"===e||"hex6"===e)n=this.toHexString();if("hex3"===e)n=this.toHexString(true);if("hex4"===e)n=this.toHex8String(true);if("hex8"===e)n=this.toHex8String();if("name"===e)n=this.toName();if("hsl"===e)n=this.toHslString();if("hsv"===e)n=this.toHsvString();return n||this.toHexString()};TinyColor.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)};TinyColor.prototype.clone=function(){return new TinyColor(this.toString())};TinyColor.prototype.lighten=function(e){if(void 0===e)e=10;var t=this.toHsl();t.l+=e/100;t.l=(0,o.V2)(t.l);return new TinyColor(t)};TinyColor.prototype.brighten=function(e){if(void 0===e)e=10;var t=this.toRgb();t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100))));t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100))));t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100))));return new TinyColor(t)};TinyColor.prototype.darken=function(e){if(void 0===e)e=10;var t=this.toHsl();t.l-=e/100;t.l=(0,o.V2)(t.l);return new TinyColor(t)};TinyColor.prototype.tint=function(e){if(void 0===e)e=10;return this.mix("white",e)};TinyColor.prototype.shade=function(e){if(void 0===e)e=10;return this.mix("black",e)};TinyColor.prototype.desaturate=function(e){if(void 0===e)e=10;var t=this.toHsl();t.s-=e/100;t.s=(0,o.V2)(t.s);return new TinyColor(t)};TinyColor.prototype.saturate=function(e){if(void 0===e)e=10;var t=this.toHsl();t.s+=e/100;t.s=(0,o.V2)(t.s);return new TinyColor(t)};TinyColor.prototype.greyscale=function(){return this.desaturate(100)};TinyColor.prototype.spin=function(e){var t=this.toHsl();var n=(t.h+e)%360;t.h=n<0?360+n:n;return new TinyColor(t)};TinyColor.prototype.mix=function(e,t){if(void 0===t)t=50;var n=this.toRgb();var r=new TinyColor(e).toRgb();var i=t/100;var a={r:(r.r-n.r)*i+n.r,g:(r.g-n.g)*i+n.g,b:(r.b-n.b)*i+n.b,a:(r.a-n.a)*i+n.a};return new TinyColor(a)};TinyColor.prototype.analogous=function(e,t){if(void 0===e)e=6;if(void 0===t)t=30;var n=this.toHsl();var r=360/t;var i=[this];for(n.h=(n.h-(r*e>>1)+720)%360;--e;){n.h=(n.h+r)%360;i.push(new TinyColor(n))}return i};TinyColor.prototype.complement=function(){var e=this.toHsl();e.h=(e.h+180)%360;return new TinyColor(e)};TinyColor.prototype.monochromatic=function(e){if(void 0===e)e=6;var t=this.toHsv();var n=t.h;var r=t.s;var i=t.v;var a=[];var o=1/e;while(e--){a.push(new TinyColor({h:n,s:r,v:i}));i=(i+o)%1}return a};TinyColor.prototype.splitcomplement=function(){var e=this.toHsl();var t=e.h;return[this,new TinyColor({h:(t+72)%360,s:e.s,l:e.l}),new TinyColor({h:(t+216)%360,s:e.s,l:e.l})]};TinyColor.prototype.onBackground=function(e){var t=this.toRgb();var n=new TinyColor(e).toRgb();return new TinyColor({r:n.r+(t.r-n.r)*t.a,g:n.g+(t.g-n.g)*t.a,b:n.b+(t.b-n.b)*t.a})};TinyColor.prototype.triad=function(){return this.polyad(3)};TinyColor.prototype.tetrad=function(){return this.polyad(4)};TinyColor.prototype.polyad=function(e){var t=this.toHsl();var n=t.h;var r=[this];var i=360/e;for(var a=1;a<e;a++)r.push(new TinyColor({h:(n+a*i)%360,s:t.s,l:t.l}));return r};TinyColor.prototype.equals=function(e){return this.toRgbString()===new TinyColor(e).toRgbString()};return TinyColor}()},50235:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(2784);var i=null;var a=r.createContext({})},75356:(e,t,n)=>{"use strict";n.d(t,{CSSMotionList:()=>i.Z,default:()=>o});var r=n(27594);var i=n(98188);var a=n(50235);const o=r.Z},15646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(82609);var i=n.n(r);var a=i()(function(e){return e[1]});a.push([e.id,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the `main` element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type="button"]:-moz-focusring,\n[type="reset"]:-moz-focusring,\n[type="submit"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    `fieldset` elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}\n',""]);const o=a},33207:function(e,t,n){(function(e,r){r(t,n(59590),n(2784))})(0,function(e,t,n){"use strict";function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=_interopDefaultLegacy(n);/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */ var __assign=function(){__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return __assign.apply(this,arguments)};var i=r["default"].useDebugValue,a=r["default"].useEffect,o=r["default"].useState;function useSubscription(e){var t=e.getCurrentValue,n=e.subscribe;var r=o(function(){return{getCurrentValue:t,subscribe:n,value:t(),error:null}}),s=r[0],l=r[1];if(s.error)throw s.error;var u=s.value;if(s.getCurrentValue!==t||s.subscribe!==n){u=t();l({getCurrentValue:t,subscribe:n,value:u,error:null})}i(u);a(function(){var e=false;var checkForUpdates=function(){if(e)return;var r=t();l(function(e){if(e.getCurrentValue!==t||e.subscribe!==n)return e;if(e.value===r)return e;return __assign(__assign({},e),{value:r})})};var r=n(checkForUpdates,function(e){return l(function(t){return __assign(__assign({},t),{error:e})})});checkForUpdates();return function(){e=true;r()}},[t,n]);return u}function useLiveQuery(e,n,i){var a=r["default"].useState(i),o=a[0],s=a[1];var l=r["default"].useMemo(function(){var n=o;var r=t.liveQuery(e);return{getCurrentValue:function(){return n},subscribe:function(e,t){var i=r.subscribe(function(t){n=t;s(t);e(t)},t);return i.unsubscribe.bind(i)}}},n||[]);var u=useSubscription(l);return u}e.useLiveQuery=useLiveQuery;Object.defineProperty(e,"__esModule",{value:true})})},17547:(e,t,n)=>{"use strict";n.d(t,{Ep:()=>createPath,Hp:()=>locationsAreEqual,PP:()=>createMemoryHistory,lX:()=>createBrowserHistory,ob:()=>createLocation,q_:()=>createHashHistory});var r=n(7896);var i=n(57613);var a=n(60838);var o=n(61898);function addLeadingSlash(e){return"/"===e.charAt(0)?e:"/"+e}function stripLeadingSlash(e){return"/"===e.charAt(0)?e.substr(1):e}function hasBasename(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function stripBasename(e,t){return hasBasename(e,t)?e.substr(t.length):e}function stripTrailingSlash(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function parsePath(e){var t=e||"/";var n="";var r="";var i=t.indexOf("#");if(-1!==i){r=t.substr(i);t=t.substr(0,i)}var a=t.indexOf("?");if(-1!==a){n=t.substr(a);t=t.substr(0,a)}return{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function createPath(e){var t=e.pathname,n=e.search,r=e.hash;var i=t||"/";if(n&&"?"!==n)i+="?"===n.charAt(0)?n:"?"+n;if(r&&"#"!==r)i+="#"===r.charAt(0)?r:"#"+r;return i}function createLocation(e,t,n,a){var o;if("string"==typeof e){o=parsePath(e);o.state=t}else{o=(0,r.Z)({},e);if(void 0===o.pathname)o.pathname="";if(o.search){if("?"!==o.search.charAt(0))o.search="?"+o.search}else o.search="";if(o.hash){if("#"!==o.hash.charAt(0))o.hash="#"+o.hash}else o.hash="";if(void 0!==t&&void 0===o.state)o.state=t}try{o.pathname=decodeURI(o.pathname)}catch(s){if(s instanceof URIError)throw new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.');throw s}if(n)o.key=n;if(a)if(o.pathname){if("/"!==o.pathname.charAt(0))o.pathname=(0,i.Z)(o.pathname,a.pathname)}else o.pathname=a.pathname;else if(!o.pathname)o.pathname="/";return o}function locationsAreEqual(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,a.Z)(e.state,t.state)}function createTransitionManager(){var e=null;function setPrompt(t){e=t;return function(){if(e===t)e=null}}function confirmTransitionTo(t,n,r,i){if(null!=e){var a="function"==typeof e?e(t,n):e;if("string"==typeof a)if("function"==typeof r)r(a,i);else i(true);else i(false!==a)}else i(true)}var t=[];function appendListener(e){var n=true;function listener(){if(n)e.apply(void 0,arguments)}t.push(listener);return function(){n=false;t=t.filter(function(e){return e!==listener})}}function notifyListeners(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}return{setPrompt:setPrompt,confirmTransitionTo:confirmTransitionTo,appendListener:appendListener,notifyListeners:notifyListeners}}var s=!!("undefined"!=typeof window&&window.document&&window.document.createElement);function getConfirmation(e,t){t(window.confirm(e))}function supportsHistory(){var e=window.navigator.userAgent;if((-1!==e.indexOf("Android 2.")||-1!==e.indexOf("Android 4.0"))&&-1!==e.indexOf("Mobile Safari")&&-1===e.indexOf("Chrome")&&-1===e.indexOf("Windows Phone"))return false;return window.history&&"pushState"in window.history}function supportsPopStateOnHashChange(){return -1===window.navigator.userAgent.indexOf("Trident")}function supportsGoWithoutReloadUsingHash(){return -1===window.navigator.userAgent.indexOf("Firefox")}function isExtraneousPopstateEvent(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}var l="popstate";var u="hashchange";function getHistoryState(){try{return window.history.state||{}}catch(e){return{}}}function createBrowserHistory(e){if(void 0===e)e={};s||(0,o.Z)(false);var t=window.history;var n=supportsHistory();var i=!supportsPopStateOnHashChange();var a=e,h=a.forceRefresh,f=void 0!==h&&h,d=a.getUserConfirmation,p=void 0===d?getConfirmation:d,m=a.keyLength,g=void 0===m?6:m;var y=e.basename?stripTrailingSlash(addLeadingSlash(e.basename)):"";function getDOMLocation(e){var t=e||{},n=t.key,r=t.state;var i=window.location,a=i.pathname,o=i.search,s=i.hash;var l=a+o+s;if(y)l=stripBasename(l,y);return createLocation(l,r,n)}function createKey(){return Math.random().toString(36).substr(2,g)}var v=createTransitionManager();function setState(e){(0,r.Z)(C,e);C.length=t.length;v.notifyListeners(C.location,C.action)}function handlePopState(e){if(isExtraneousPopstateEvent(e))return;handlePop(getDOMLocation(e.state))}function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))}var b=false;function handlePop(e){if(b){b=false;setState()}else{var t="POP";v.confirmTransitionTo(e,t,p,function(n){if(n)setState({action:t,location:e});else revertPop(e)})}}function revertPop(e){var t=C.location;var n=x.indexOf(t.key);if(-1===n)n=0;var r=x.indexOf(e.key);if(-1===r)r=0;var i=n-r;if(i){b=true;go(i)}}var w=getDOMLocation(getHistoryState());var x=[w.key];function createHref(e){return y+createPath(e)}function push(e,r){var i="PUSH";var a=createLocation(e,r,createKey(),C.location);v.confirmTransitionTo(a,i,p,function(e){if(!e)return;var r=createHref(a);var o=a.key,s=a.state;if(n){t.pushState({key:o,state:s},null,r);if(f)window.location.href=r;else{var l=x.indexOf(C.location.key);var u=x.slice(0,l+1);u.push(a.key);x=u;setState({action:i,location:a})}}else window.location.href=r})}function replace(e,r){var i="REPLACE";var a=createLocation(e,r,createKey(),C.location);v.confirmTransitionTo(a,i,p,function(e){if(!e)return;var r=createHref(a);var o=a.key,s=a.state;if(n){t.replaceState({key:o,state:s},null,r);if(f)window.location.replace(r);else{var l=x.indexOf(C.location.key);if(-1!==l)x[l]=a.key;setState({action:i,location:a})}}else window.location.replace(r)})}function go(e){t.go(e)}function goBack(){go(-1)}function goForward(){go(1)}var _=0;function checkDOMListeners(e){_+=e;if(1===_&&1===e){window.addEventListener(l,handlePopState);if(i)window.addEventListener(u,handleHashChange)}else if(0===_){window.removeEventListener(l,handlePopState);if(i)window.removeEventListener(u,handleHashChange)}}var k=false;function block(e){if(void 0===e)e=false;var t=v.setPrompt(e);if(!k){checkDOMListeners(1);k=true}return function(){if(k){k=false;checkDOMListeners(-1)}return t()}}function listen(e){var t=v.appendListener(e);checkDOMListeners(1);return function(){checkDOMListeners(-1);t()}}var C={length:t.length,action:"POP",location:w,createHref:createHref,push:push,replace:replace,go:go,goBack:goBack,goForward:goForward,block:block,listen:listen};return C}var h="hashchange";var f={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+stripLeadingSlash(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(e){var t=e.indexOf("#");return -1===t?e:e.slice(0,t)}function getHashPath(){var e=window.location.href;var t=e.indexOf("#");return -1===t?"":e.substring(t+1)}function pushHashPath(e){window.location.hash=e}function replaceHashPath(e){window.location.replace(stripHash(window.location.href)+"#"+e)}function createHashHistory(e){if(void 0===e)e={};s||(0,o.Z)(false);var t=window.history;supportsGoWithoutReloadUsingHash();var n=e,i=n.getUserConfirmation,a=void 0===i?getConfirmation:i,l=n.hashType,u=void 0===l?"slash":l;var d=e.basename?stripTrailingSlash(addLeadingSlash(e.basename)):"";var p=f[u],m=p.encodePath,g=p.decodePath;function getDOMLocation(){var e=g(getHashPath());if(d)e=stripBasename(e,d);return createLocation(e)}var y=createTransitionManager();function setState(e){(0,r.Z)(S,e);S.length=t.length;y.notifyListeners(S.location,S.action)}var v=false;var b=null;function locationsAreEqual$$1(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}function handleHashChange(){var e=getHashPath();var t=m(e);if(e!==t)replaceHashPath(t);else{var n=getDOMLocation();var r=S.location;if(!v&&locationsAreEqual$$1(r,n))return;if(b===createPath(n))return;b=null;handlePop(n)}}function handlePop(e){if(v){v=false;setState()}else{var t="POP";y.confirmTransitionTo(e,t,a,function(n){if(n)setState({action:t,location:e});else revertPop(e)})}}function revertPop(e){var t=S.location;var n=k.lastIndexOf(createPath(t));if(-1===n)n=0;var r=k.lastIndexOf(createPath(e));if(-1===r)r=0;var i=n-r;if(i){v=true;go(i)}}var w=getHashPath();var x=m(w);if(w!==x)replaceHashPath(x);var _=getDOMLocation();var k=[createPath(_)];function createHref(e){var t=document.querySelector("base");var n="";if(t&&t.getAttribute("href"))n=stripHash(window.location.href);return n+"#"+m(d+createPath(e))}function push(e,t){var n="PUSH";var r=createLocation(e,void 0,void 0,S.location);y.confirmTransitionTo(r,n,a,function(e){if(!e)return;var t=createPath(r);var i=m(d+t);var a=getHashPath()!==i;if(a){b=t;pushHashPath(i);var o=k.lastIndexOf(createPath(S.location));var s=k.slice(0,o+1);s.push(t);k=s;setState({action:n,location:r})}else setState()})}function replace(e,t){var n="REPLACE";var r=createLocation(e,void 0,void 0,S.location);y.confirmTransitionTo(r,n,a,function(e){if(!e)return;var t=createPath(r);var i=m(d+t);var a=getHashPath()!==i;if(a){b=t;replaceHashPath(i)}var o=k.indexOf(createPath(S.location));if(-1!==o)k[o]=t;setState({action:n,location:r})})}function go(e){t.go(e)}function goBack(){go(-1)}function goForward(){go(1)}var C=0;function checkDOMListeners(e){C+=e;if(1===C&&1===e)window.addEventListener(h,handleHashChange);else if(0===C)window.removeEventListener(h,handleHashChange)}var P=false;function block(e){if(void 0===e)e=false;var t=y.setPrompt(e);if(!P){checkDOMListeners(1);P=true}return function(){if(P){P=false;checkDOMListeners(-1)}return t()}}function listen(e){var t=y.appendListener(e);checkDOMListeners(1);return function(){checkDOMListeners(-1);t()}}var S={length:t.length,action:"POP",location:_,createHref:createHref,push:push,replace:replace,go:go,goBack:goBack,goForward:goForward,block:block,listen:listen};return S}function clamp(e,t,n){return Math.min(Math.max(e,t),n)}function createMemoryHistory(e){if(void 0===e)e={};var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,l=t.keyLength,u=void 0===l?6:l;var h=createTransitionManager();function setState(e){(0,r.Z)(m,e);m.length=m.entries.length;h.notifyListeners(m.location,m.action)}function createKey(){return Math.random().toString(36).substr(2,u)}var f=clamp(s,0,a.length-1);var d=a.map(function(e){return"string"==typeof e?createLocation(e,void 0,createKey()):createLocation(e,void 0,e.key||createKey())});var p=createPath;function push(e,t){var r="PUSH";var i=createLocation(e,t,createKey(),m.location);h.confirmTransitionTo(i,r,n,function(e){if(!e)return;var t=m.index;var n=t+1;var a=m.entries.slice(0);if(a.length>n)a.splice(n,a.length-n,i);else a.push(i);setState({action:r,location:i,index:n,entries:a})})}function replace(e,t){var r="REPLACE";var i=createLocation(e,t,createKey(),m.location);h.confirmTransitionTo(i,r,n,function(e){if(!e)return;m.entries[m.index]=i;setState({action:r,location:i})})}function go(e){var t=clamp(m.index+e,0,m.entries.length-1);var r="POP";var i=m.entries[t];h.confirmTransitionTo(i,r,n,function(e){e?setState({action:r,location:i,index:t}):setState()})}function goBack(){go(-1)}function goForward(){go(1)}function canGo(e){var t=m.index+e;return t>=0&&t<m.entries.length}function block(e){if(void 0===e)e=false;return h.setPrompt(e)}function listen(e){return h.appendListener(e)}var m={length:d.length,action:"POP",location:d[f],index:f,entries:d,createHref:p,push:push,replace:replace,go:go,goBack:goBack,goForward:goForward,canGo:canGo,block:block,listen:listen};return m}},85701:(e,t,n)=>{var r=n(39872),i=n(38101);function take(e,t,n){if(!(e&&e.length))return[];t=n||void 0===t?1:i(t);return r(e,0,t<0?0:t)}e.exports=take},74930:(e,t,n)=>{var r=n(66188);var i=0;function uniqueId(e){var t=++i;return r(e)+t}e.exports=uniqueId},19928:function(e){(function(t,n){e.exports=n()})(0,function(){var e=[];var t=[];var n={};var r={};var i={};function sanitizeRule(e){if("string"==typeof e)return new RegExp("^"+e+"$","i");return e}function restoreCase(e,t){if(e===t)return t;if(e===e.toLowerCase())return t.toLowerCase();if(e===e.toUpperCase())return t.toUpperCase();if(e[0]===e[0].toUpperCase())return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();return t.toLowerCase()}function interpolate(e,t){return e.replace(/\$(\d{1,2})/g,function(e,n){return t[n]||""})}function replace(e,t){return e.replace(t[0],function(n,r){var i=interpolate(t[1],arguments);if(""===n)return restoreCase(e[r-1],i);return restoreCase(n,i)})}function sanitizeWord(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;var i=r.length;while(i--){var a=r[i];if(a[0].test(t))return replace(t,a)}return t}function replaceWord(e,t,n){return function(r){var i=r.toLowerCase();if(t.hasOwnProperty(i))return restoreCase(r,i);if(e.hasOwnProperty(i))return restoreCase(r,e[i]);return sanitizeWord(i,r,n)}}function checkWord(e,t,n,r){return function(r){var i=r.toLowerCase();if(t.hasOwnProperty(i))return true;if(e.hasOwnProperty(i))return false;return sanitizeWord(i,i,n)===i}}function pluralize(e,t,n){var r=1===t?pluralize.singular(e):pluralize.plural(e);return(n?t+" ":"")+r}pluralize.plural=replaceWord(i,r,e);pluralize.isPlural=checkWord(i,r,e);pluralize.singular=replaceWord(r,i,t);pluralize.isSingular=checkWord(r,i,t);pluralize.addPluralRule=function(t,n){e.push([sanitizeRule(t),n])};pluralize.addSingularRule=function(e,n){t.push([sanitizeRule(e),n])};pluralize.addUncountableRule=function(e){if("string"==typeof e){n[e.toLowerCase()]=true;return}pluralize.addPluralRule(e,"$0");pluralize.addSingularRule(e,"$0")};pluralize.addIrregularRule=function(e,t){t=t.toLowerCase();e=e.toLowerCase();i[e]=t;r[t]=e};[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(e){return pluralize.addIrregularRule(e[0],e[1])});[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return pluralize.addPluralRule(e[0],e[1])});[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return pluralize.addSingularRule(e[0],e[1])});["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(pluralize.addUncountableRule);return pluralize})},45454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(28082);var i=n(87710);var a=n(2784);var o=n(72779);var s=n.n(o);const l=a.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var u={width:0,height:0,overflow:"hidden",outline:"none"};var h=a.forwardRef(function(e,t){var n=e.prefixCls,o=e.className,h=e.style,f=e.title,d=e.ariaId,p=e.footer,m=e.closable,g=e.closeIcon,y=e.onClose,v=e.children,b=e.bodyStyle,w=e.bodyProps,x=e.modalRender,_=e.onMouseDown,k=e.onMouseUp,C=e.holderRef,P=e.visible,S=e.forceRender,T=e.width,E=e.height;var R=(0,a.useRef)();var D=(0,a.useRef)();a.useImperativeHandle(t,function(){return{focus:function(){var e;null===(e=R.current)||void 0===e||e.focus()},changeActive:function(e){var t=document,n=t.activeElement;if(e&&n===D.current)R.current.focus();else if(!e&&n===R.current)D.current.focus()}}});var O={};if(void 0!==T)O.width=T;if(void 0!==E)O.height=E;var A;if(p)A=a.createElement("div",{className:"".concat(n,"-footer")},p);var M;if(f)M=a.createElement("div",{className:"".concat(n,"-header")},a.createElement("div",{className:"".concat(n,"-title"),id:d},f));var K;if(m)K=a.createElement("button",{type:"button",onClick:y,"aria-label":"Close",className:"".concat(n,"-close")},g||a.createElement("span",{className:"".concat(n,"-close-x")}));var I=a.createElement("div",{className:"".concat(n,"-content")},K,M,a.createElement("div",(0,i.Z)({className:"".concat(n,"-body"),style:b},w),v),A);return a.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":f?d:null,"aria-modal":"true",ref:C,style:(0,r.Z)((0,r.Z)({},h),O),className:s()(n,o),onMouseDown:_,onMouseUp:k},a.createElement("div",{tabIndex:0,ref:R,style:u,"aria-hidden":"true"}),a.createElement(l,{shouldUpdate:P||S},x?x(I):I),a.createElement("div",{tabIndex:0,ref:D,style:u,"aria-hidden":"true"}))});const f=h},44060:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});var r=n(55966);var i=n(45454);const a=r.Z},69957:(e,t,n)=>{"use strict";n.d(t,{Field:()=>i.Z,FieldContext:()=>u.Z,FormProvider:()=>l.R,List:()=>a.Z,ListContext:()=>h.Z,default:()=>m,useForm:()=>o.Z,useWatch:()=>f.Z});var r=n(2784);var i=n(66546);var a=n(43529);var o=n(18347);var s=n(6296);var l=n(49035);var u=n(50788);var h=n(53674);var f=n(55983);var d=r.forwardRef(s.Z);var p=d;p.FormProvider=l.R;p.Field=i.Z;p.List=a.Z;p.useForm=o.Z;p.useWatch=f.Z;const m=p},28603:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var r=n(49022);const i=r.Z},49520:(e,t,n)=>{e.exports=n(78815)},78815:(e,t,n)=>{var r=n(53947);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:false};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");var r=[];for(var i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));if(e&&e.forever&&!r.length)r.push(this.createTimeout(i,t));r.sort(function(e,t){return e-t});return r};t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1;var r=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));r=Math.min(r,t.maxTimeout);return r};t.wrap=function(e,n,r){if(n instanceof Array){r=n;n=null}if(!r){r=[];for(var i in e)if("function"==typeof e[i])r.push(i)}for(var a=0;a<r.length;a++){var o=r[a];var s=e[o];e[o]=(function(r){var i=t.operation(n);var a=Array.prototype.slice.call(arguments,1);var o=a.pop();a.push(function(e){if(i.retry(e))return;if(e)arguments[0]=i.mainError();o.apply(this,arguments)});i.attempt(function(){r.apply(e,a)})}).bind(e,s);e[o].options=n}}},53947:e=>{function RetryOperation(e,t){if("boolean"==typeof t)t={forever:t};this._originalTimeouts=JSON.parse(JSON.stringify(e));this._timeouts=e;this._options=t||{};this._maxRetryTime=t&&t.maxRetryTime||1/0;this._fn=null;this._errors=[];this._attempts=1;this._operationTimeout=null;this._operationTimeoutCb=null;this._timeout=null;this._operationStart=null;this._timer=null;if(this._options.forever)this._cachedTimeouts=this._timeouts.slice(0)}e.exports=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1;this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){if(this._timeout)clearTimeout(this._timeout);if(this._timer)clearTimeout(this._timer);this._timeouts=[];this._cachedTimeouts=null};RetryOperation.prototype.retry=function(e){if(this._timeout)clearTimeout(this._timeout);if(!e)return false;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime){this._errors.push(e);this._errors.unshift(new Error("RetryOperation timeout occurred"));return false}this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return false;this._errors.splice(0,this._errors.length-1);n=this._cachedTimeouts.slice(-1)}var r=this;this._timer=setTimeout(function(){r._attempts++;if(r._operationTimeoutCb){r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout);if(r._options.unref)r._timeout.unref()}r._fn(r._attempts)},n);if(this._options.unref)this._timer.unref();return true};RetryOperation.prototype.attempt=function(e,t){this._fn=e;if(t){if(t.timeout)this._operationTimeout=t.timeout;if(t.cb)this._operationTimeoutCb=t.cb}var n=this;if(this._operationTimeoutCb)this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout);this._operationStart=new Date().getTime();this._fn(this._attempts)};RetryOperation.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated");this.attempt(e)};RetryOperation.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated");this.attempt(e)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(0===this._errors.length)return null;var e={};var t=null;var n=0;for(var r=0;r<this._errors.length;r++){var i=this._errors[r];var a=i.message;var o=(e[a]||0)+1;e[a]=o;if(o>=n){t=i;n=o}}return t}},24254:(e,t,n)=>{"use strict";var r=n(46062);var i=n.n(r);var a=n(44036);var o=n.n(a);var s=n(96793);var l=n.n(s);var u=n(17892);var h=n.n(u);var f=n(11173);var d=n.n(f);var p=n(42464);var m=n.n(p);var g=n(15646);var y={};y.styleTagTransform=m();y.setAttributes=h();y.insert=l().bind(null,"head");y.domAPI=o();y.insertStyleElement=d();var v=i()(g.Z,y);var b=g.Z&&g.Z.locals?g.Z.locals:void 0},60838:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});function valueOf(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function valueEqual(e,t){if(e===t)return true;if(null==e||null==t)return false;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return valueEqual(e,t[n])});if("object"==typeof e||"object"==typeof t){var n=valueOf(e);var r=valueOf(t);if(n!==e||r!==t)return valueEqual(n,r);return Object.keys(Object.assign({},e,t)).every(function(n){return valueEqual(e[n],t[n])})}return false}const r=valueEqual},59590:(e,t,n)=>{"use strict";n.r(t);n.d(t,{Dexie:()=>e$,RangeSet:()=>RangeSet,default:()=>eV,liveQuery:()=>liveQuery,mergeRanges:()=>mergeRanges,rangesOverlap:()=>rangesOverlap});const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global;const i=Object.keys;const a=Array.isArray;if("undefined"!=typeof Promise&&!r.Promise)r.Promise=Promise;function extend(e,t){if("object"!=typeof t)return e;i(t).forEach(function(n){e[n]=t[n]});return e}const o=Object.getPrototypeOf;const s={}.hasOwnProperty;function hasOwn(e,t){return s.call(e,t)}function props(e,t){if("function"==typeof t)t=t(o(e));("undefined"==typeof Reflect?i:Reflect.ownKeys)(t).forEach(n=>{setProp(e,n,t[n])})}const l=Object.defineProperty;function setProp(e,t,n,r){l(e,t,extend(n&&hasOwn(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:true}:{value:n,configurable:true,writable:true},r))}function derive(e){return{from:function(t){e.prototype=Object.create(t.prototype);setProp(e.prototype,"constructor",e);return{extend:props.bind(null,e.prototype)}}}}const u=Object.getOwnPropertyDescriptor;function getPropertyDescriptor(e,t){const n=u(e,t);let r;return n||(r=o(e))&&getPropertyDescriptor(r,t)}const h=[].slice;function slice(e,t,n){return h.call(e,t,n)}function override(e,t){return t(e)}function assert(e){if(!e)throw new Error("Assertion Failed")}function asap$1(e){if(r.setImmediate)setImmediate(e);else setTimeout(e,0)}function arrayToObject(e,t){return e.reduce((e,n,r)=>{var i=t(n,r);if(i)e[i[0]]=i[1];return e},{})}function tryCatch(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function getByKeyPath(e,t){if(hasOwn(e,t))return e[t];if(!t)return e;if("string"!=typeof t){var n=[];for(var r=0,i=t.length;r<i;++r){var a=getByKeyPath(e,t[r]);n.push(a)}return n}var o=t.indexOf(".");if(-1!==o){var s=e[t.substr(0,o)];return void 0===s?void 0:getByKeyPath(s,t.substr(o+1))}return}function setByKeyPath(e,t,n){if(!e||void 0===t)return;if("isFrozen"in Object&&Object.isFrozen(e))return;if("string"!=typeof t&&"length"in t){assert("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)setByKeyPath(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o);var l=t.substr(o+1);if(""===l)if(void 0===n)if(a(e)&&!isNaN(parseInt(s)))e.splice(s,1);else delete e[s];else e[s]=n;else{var u=e[s];if(!u)u=e[s]={};setByKeyPath(u,l,n)}}else if(void 0===n)if(a(e)&&!isNaN(parseInt(t)))e.splice(t,1);else delete e[t];else e[t]=n}}function delByKeyPath(e,t){if("string"==typeof t)setByKeyPath(e,t,void 0);else if("length"in t)[].map.call(t,function(t){setByKeyPath(e,t,void 0)})}function shallowClone(e){var t={};for(var n in e)if(hasOwn(e,n))t[n]=e[n];return t}const f=[].concat;function flatten(e){return f.apply([],e)}const d="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(flatten([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>r[e]);const p=d.map(e=>r[e]);arrayToObject(d,e=>[e,true]);let m=null;function deepClone(e){m="undefined"!=typeof WeakMap&&new WeakMap;const t=innerDeepClone(e);m=null;return t}function innerDeepClone(e){if(!e||"object"!=typeof e)return e;let t=m&&m.get(e);if(t)return t;if(a(e)){t=[];m&&m.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(innerDeepClone(e[n]))}else if(p.indexOf(e.constructor)>=0)t=e;else{const i=o(e);t=i===Object.prototype?{}:Object.create(i);m&&m.set(e,t);for(var s in e)if(hasOwn(e,s))t[s]=innerDeepClone(e[s])}return t}const{toString:g}={};function toStringTag(e){return g.call(e).slice(8,-1)}const y="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";const v="symbol"==typeof y?function(e){var t;return null!=e&&(t=e[y])&&t.apply(e)}:function(){return null};const b={};function getArrayOf(e){var t,n,r,i;if(1===arguments.length){if(a(e))return e.slice();if(this===b&&"string"==typeof e)return[e];if(i=v(e)){n=[];while(r=i.next(),!r.done)n.push(r.value);return n}if(null==e)return[e];t=e.length;if("number"==typeof t){n=new Array(t);while(t--)n[t]=e[t];return n}return[e]}t=arguments.length;n=new Array(t);while(t--)n[t]=arguments[t];return n}const w="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>false;var x="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function setDebug(e,t){x=e;libraryFilter=t}var libraryFilter=()=>true;const _=!new Error("").stack;function getErrorWithStack(){if(_)try{getErrorWithStack.arguments;throw new Error}catch(e){return e}return new Error}function prettyStack(e,t){var n=e.stack;if(!n)return"";t=t||0;if(0===n.indexOf(e.name))t+=(e.name+e.message).split("\n").length;return n.split("\n").slice(t).filter(libraryFilter).map(e=>"\n"+e).join("")}var k=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var C=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];var P=k.concat(C);var S={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function DexieError(e,t){this._e=getErrorWithStack();this.name=e;this.message=t}derive(DexieError).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+prettyStack(this._e,2))}},toString:function(){return this.name+": "+this.message}});function getMultiErrorMessage(e,t){return e+". Errors: "+Object.keys(t).map(e=>t[e].toString()).filter((e,t,n)=>n.indexOf(e)===t).join("\n")}function ModifyError(e,t,n,r){this._e=getErrorWithStack();this.failures=t;this.failedKeys=r;this.successCount=n;this.message=getMultiErrorMessage(e,t)}derive(ModifyError).from(DexieError);function BulkError(e,t){this._e=getErrorWithStack();this.name="BulkError";this.failures=Object.keys(t).map(e=>t[e]);this.failuresByPos=t;this.message=getMultiErrorMessage(e,t)}derive(BulkError).from(DexieError);var T=P.reduce((e,t)=>(e[t]=t+"Error",e),{});const E=DexieError;var R=P.reduce((e,t)=>{var n=t+"Error";function DexieError(e,r){this._e=getErrorWithStack();this.name=n;if(e){if("string"==typeof e){this.message=`${e}${r?"\n "+r:""}`;this.inner=r||null}else if("object"==typeof e){this.message=`${e.name} ${e.message}`;this.inner=e}}else{this.message=S[t]||n;this.inner=null}}derive(DexieError).from(E);e[t]=DexieError;return e},{});R.Syntax=SyntaxError;R.Type=TypeError;R.Range=RangeError;var D=C.reduce((e,t)=>{e[t+"Error"]=R[t];return e},{});function mapError(e,t){if(!e||e instanceof DexieError||e instanceof TypeError||e instanceof SyntaxError||!e.name||!D[e.name])return e;var n=new D[e.name](t||e.message,e);if("stack"in e)setProp(n,"stack",{get:function(){return this.inner.stack}});return n}var O=P.reduce((e,t)=>{if(-1===["Syntax","Type","Range"].indexOf(t))e[t+"Error"]=R[t];return e},{});O.ModifyError=ModifyError;O.DexieError=DexieError;O.BulkError=BulkError;function nop(){}function mirror(e){return e}function pureFunctionChain(e,t){if(null==e||e===mirror)return t;return function(n){return t(e(n))}}function callBoth(e,t){return function(){e.apply(this,arguments);t.apply(this,arguments)}}function hookCreatingChain(e,t){if(e===nop)return t;return function(){var n=e.apply(this,arguments);if(void 0!==n)arguments[0]=n;var r=this.onsuccess,i=this.onerror;this.onsuccess=null;this.onerror=null;var a=t.apply(this,arguments);if(r)this.onsuccess=this.onsuccess?callBoth(r,this.onsuccess):r;if(i)this.onerror=this.onerror?callBoth(i,this.onerror):i;return void 0!==a?a:n}}function hookDeletingChain(e,t){if(e===nop)return t;return function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null;t.apply(this,arguments);if(n)this.onsuccess=this.onsuccess?callBoth(n,this.onsuccess):n;if(r)this.onerror=this.onerror?callBoth(r,this.onerror):r}}function hookUpdatingChain(e,t){if(e===nop)return t;return function(n){var r=e.apply(this,arguments);extend(n,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null;this.onerror=null;var o=t.apply(this,arguments);if(i)this.onsuccess=this.onsuccess?callBoth(i,this.onsuccess):i;if(a)this.onerror=this.onerror?callBoth(a,this.onerror):a;return void 0===r?void 0===o?void 0:o:extend(r,o)}}function reverseStoppableEventChain(e,t){if(e===nop)return t;return function(){if(false===t.apply(this,arguments))return false;return e.apply(this,arguments)}}function promisableChain(e,t){if(e===nop)return t;return function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){var r=this,i=arguments.length,a=new Array(i);while(i--)a[i]=arguments[i];return n.then(function(){return t.apply(r,a)})}return t.apply(this,arguments)}}var A={};const M=100,K=20,I=100,[F,j,B]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,o(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,o(t),e]})(),$=j&&j.then;const H=F&&F.constructor;const L=!!B;var N=false;var q=B?()=>{B.then(physicalTick)}:r.setImmediate?setImmediate.bind(null,physicalTick):r.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{physicalTick();e=null}).observe(e,{attributes:true});e.setAttribute("i","1")}:()=>{setTimeout(physicalTick,0)};var asap=function(e,t){X.push([e,t]);if(U){q();U=false}};var z=true,U=true,V=[],W=[],Z=null,G=mirror;var Q={id:"global",global:true,ref:0,unhandleds:[],onunhandled:globalError,pgp:false,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{globalError(e[0],e[1])}catch(t){}})}};var Y=Q;var X=[];var J=0;var ee=[];function DexiePromise(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[];this.onuncatched=nop;this._lib=false;var t=this._PSD=Y;if(x){this._stackHolder=getErrorWithStack();this._prev=null;this._numPrev=0}if("function"!=typeof e){if(e!==A)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];if(false===this._state)handleRejection(this,this._value);return}this._state=null;this._value=null;++t.ref;executePromiseTask(this,e)}const et={get:function(){var e=Y,t=eo;function then(n,r){var i=!e.global&&(e!==Y||t!==eo);const a=i&&!decrementExpectedAwaits();var o=new DexiePromise((t,o)=>{propagateToListener(this,new Listener(nativeAwaitCompatibleWrap(n,e,i,a),nativeAwaitCompatibleWrap(r,e,i,a),t,o,e))});x&&linkToPreviousPromise(o,this);return o}then.prototype=A;return then},set:function(e){setProp(this,"then",e&&e.prototype===A?et:{get:function(){return e},set:et.set})}};props(DexiePromise.prototype,{then:et,_then:function(e,t){propagateToListener(this,new Listener(null,null,e,t,Y))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,e=>e instanceof t?n(e):PromiseReject(e)):this.then(null,e=>e&&e.name===t?n(e):PromiseReject(e))},finally:function(e){return this.then(t=>{e();return t},t=>{e();return PromiseReject(t)})},stack:{get:function(){if(this._stack)return this._stack;try{N=true;var e=getStack(this,[],K);var t=e.join("\nFrom previous: ");if(null!==this._state)this._stack=t;return t}finally{N=false}}},timeout:function(e,t){return e<1/0?new DexiePromise((n,r)=>{var i=setTimeout(()=>r(new R.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}});if("undefined"!=typeof Symbol&&Symbol.toStringTag)setProp(DexiePromise.prototype,Symbol.toStringTag,"Dexie.Promise");Q.env=snapShot();function Listener(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null;this.onRejected="function"==typeof t?t:null;this.resolve=n;this.reject=r;this.psd=i}props(DexiePromise,{all:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(function(t,n){if(0===e.length)t([]);var r=e.length;e.forEach((i,a)=>DexiePromise.resolve(i).then(n=>{e[a]=n;if(!--r)t(e)},n))})},resolve:e=>{if(e instanceof DexiePromise)return e;if(e&&"function"==typeof e.then)return new DexiePromise((t,n)=>{e.then(t,n)});var t=new DexiePromise(A,true,e);linkToPreviousPromise(t,Z);return t},reject:PromiseReject,race:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((t,n)=>{e.map(e=>DexiePromise.resolve(e).then(t,n))})},PSD:{get:()=>Y,set:e=>Y=e},totalEchoes:{get:()=>eo},newPSD:newScope,usePSD:usePSD,scheduler:{get:()=>asap,set:e=>{asap=e}},rejectionMapper:{get:()=>G,set:e=>{G=e}},follow:(e,t)=>{return new DexiePromise((n,r)=>{return newScope((t,n)=>{var r=Y;r.unhandleds=[];r.onunhandled=n;r.finalize=callBoth(function(){run_at_end_of_this_or_next_physical_tick(()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])})},r.finalize);e()},t,n,r)})}});if(H){if(H.allSettled)setProp(DexiePromise,"allSettled",function(){const e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(t=>{if(0===e.length)t([]);let n=e.length;const r=new Array(n);e.forEach((e,i)=>DexiePromise.resolve(e).then(e=>r[i]={status:"fulfilled",value:e},e=>r[i]={status:"rejected",reason:e}).then(()=>--n||t(r)))})});if(H.any&&"undefined"!=typeof AggregateError)setProp(DexiePromise,"any",function(){const e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((t,n)=>{if(0===e.length)n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((e,a)=>DexiePromise.resolve(e).then(e=>t(e),e=>{i[a]=e;if(!--r)n(new AggregateError(i))}))})})}function executePromiseTask(e,t){try{t(t=>{if(null!==e._state)return;if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&beginMicroTickScope();if(t&&"function"==typeof t.then)executePromiseTask(e,(e,n)=>{t instanceof DexiePromise?t._then(e,n):t.then(e,n)});else{e._state=true;e._value=t;propagateAllListeners(e)}if(n)endMicroTickScope()},handleRejection.bind(null,e))}catch(n){handleRejection(e,n)}}function handleRejection(e,t){W.push(t);if(null!==e._state)return;var n=e._lib&&beginMicroTickScope();t=G(t);e._state=false;e._value=t;x&&null!==t&&"object"==typeof t&&!t._promise&&tryCatch(()=>{var n=getPropertyDescriptor(t,"stack");t._promise=e;setProp(t,"stack",{get:()=>N?n&&(n.get?n.get.apply(t):n.value):e.stack})});addPossiblyUnhandledError(e);propagateAllListeners(e);if(n)endMicroTickScope()}function propagateAllListeners(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)propagateToListener(e,t[n]);var i=e._PSD;--i.ref||i.finalize();if(0===J){++J;asap(()=>{if(0===--J)finalizePhysicalTick()},[])}}function propagateToListener(e,t){if(null===e._state){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref;++J;asap(callListener,[n,e,t])}function callListener(e,t,n){try{Z=t;var r,i=t._value;if(t._state)r=e(i);else{if(W.length)W=[];r=e(i);if(-1===W.indexOf(i))markErrorAsHandled(t)}n.resolve(r)}catch(a){n.reject(a)}finally{Z=null;if(0===--J)finalizePhysicalTick();--n.psd.ref||n.psd.finalize()}}function getStack(e,t,n){if(t.length===n)return t;var r="";if(false===e._state){var i=e._value,a,o;if(null!=i){a=i.name||"Error";o=i.message||i;r=prettyStack(i,0)}else{a=i;o=""}t.push(a+(o?": "+o:"")+r)}if(x){r=prettyStack(e._stackHolder,2);if(r&&-1===t.indexOf(r))t.push(r);if(e._prev)getStack(e._prev,t,n)}return t}function linkToPreviousPromise(e,t){var n=t?t._numPrev+1:0;if(n<M){e._prev=t;e._numPrev=n}}function physicalTick(){beginMicroTickScope()&&endMicroTickScope()}function beginMicroTickScope(){var e=z;z=false;U=false;return e}function endMicroTickScope(){var e,t,n;do while(X.length>0){e=X;X=[];n=e.length;for(t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(X.length>0)z=true;U=true}function finalizePhysicalTick(){var e=V;V=[];e.forEach(e=>{e._PSD.onunhandled.call(null,e._value,e)});var t=ee.slice(0);var n=t.length;while(n)t[--n]()}function run_at_end_of_this_or_next_physical_tick(e){function finalizer(){e();ee.splice(ee.indexOf(finalizer),1)}ee.push(finalizer);++J;asap(()=>{if(0===--J)finalizePhysicalTick()},[])}function addPossiblyUnhandledError(e){if(!V.some(t=>t._value===e._value))V.push(e)}function markErrorAsHandled(e){var t=V.length;while(t)if(V[--t]._value===e._value){V.splice(t,1);return}}function PromiseReject(e){return new DexiePromise(A,false,e)}function wrap(e,t){var n=Y;return function(){var r=beginMicroTickScope(),i=Y;try{switchToZone(n,true);return e.apply(this,arguments)}catch(a){t&&t(a)}finally{switchToZone(i,false);if(r)endMicroTickScope()}}}const en={awaits:0,echoes:0,id:0};var er=0;var ei=[];var ea=0;var eo=0;var es=0;function newScope(e,t,n,r){var i=Y,a=Object.create(i);a.parent=i;a.ref=0;a.global=false;a.id=++es;var o=Q.env;a.env=L?{Promise:DexiePromise,PromiseProp:{value:DexiePromise,configurable:true,writable:true},all:DexiePromise.all,race:DexiePromise.race,allSettled:DexiePromise.allSettled,any:DexiePromise.any,resolve:DexiePromise.resolve,reject:DexiePromise.reject,nthen:getPatchedPromiseThen(o.nthen,a),gthen:getPatchedPromiseThen(o.gthen,a)}:{};if(t)extend(a,t);++i.ref;a.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=usePSD(a,e,n,r);if(0===a.ref)a.finalize();return s}function incrementExpectedAwaits(){if(!en.id)en.id=++er;++en.awaits;en.echoes+=I;return en.id}function decrementExpectedAwaits(){if(!en.awaits)return false;if(0===--en.awaits)en.id=0;en.echoes=en.awaits*I;return true}if(-1===(""+$).indexOf("[native code]"))incrementExpectedAwaits=decrementExpectedAwaits=nop;function onPossibleParallellAsync(e){if(en.echoes&&e&&e.constructor===H){incrementExpectedAwaits();return e.then(e=>{decrementExpectedAwaits();return e},e=>{decrementExpectedAwaits();return ec(e)})}return e}function zoneEnterEcho(e){++eo;if(!en.echoes||0===--en.echoes)en.echoes=en.id=0;ei.push(Y);switchToZone(e,true)}function zoneLeaveEcho(){var e=ei[ei.length-1];ei.pop();switchToZone(e,false)}function switchToZone(e,t){var n=Y;if(t?en.echoes&&(!ea++||e!==Y):ea&&(!--ea||e!==Y))enqueueNativeMicroTask(t?zoneEnterEcho.bind(null,e):zoneLeaveEcho);if(e===Y)return;Y=e;if(n===Q)Q.env=snapShot();if(L){var i=Q.env.Promise;var a=e.env;j.then=a.nthen;i.prototype.then=a.gthen;if(n.global||e.global){Object.defineProperty(r,"Promise",a.PromiseProp);i.all=a.all;i.race=a.race;i.resolve=a.resolve;i.reject=a.reject;if(a.allSettled)i.allSettled=a.allSettled;if(a.any)i.any=a.any}}}function snapShot(){var e=r.Promise;return L?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:j.then,gthen:e.prototype.then}:{}}function usePSD(e,t,n,r,i){var a=Y;try{switchToZone(e,true);return t(n,r,i)}finally{switchToZone(a,false)}}function enqueueNativeMicroTask(e){$.call(F,e)}function nativeAwaitCompatibleWrap(e,t,n,r){return"function"!=typeof e?e:function(){var i=Y;if(n)incrementExpectedAwaits();switchToZone(t,true);try{return e.apply(this,arguments)}finally{switchToZone(i,false);if(r)enqueueNativeMicroTask(decrementExpectedAwaits)}}}function getPatchedPromiseThen(e,t){return function(n,r){return e.call(this,nativeAwaitCompatibleWrap(n,t),nativeAwaitCompatibleWrap(r,t))}}const el="unhandledrejection";function globalError(e,t){var n;try{n=t.onuncatched(e)}catch(i){}if(false!==n)try{var a,o={promise:t,reason:e};if(r.document&&document.createEvent){a=document.createEvent("Event");a.initEvent(el,true,true);extend(a,o)}else if(r.CustomEvent){a=new CustomEvent(el,{detail:o});extend(a,o)}if(a&&r.dispatchEvent){dispatchEvent(a);if(!r.PromiseRejectionEvent&&r.onunhandledrejection)try{r.onunhandledrejection(a)}catch(s){}}if(x&&a&&!a.defaultPrevented)console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(l){}}var ec=DexiePromise.reject;function tempTransaction(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Y.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create()}catch(a){return ec(a)}return i._promise(t,(e,t)=>{return newScope(()=>{Y.trans=i;return r(e,t,i)})}).then(e=>{return i._completion.then(()=>e)})}if(e._state.openComplete)return ec(new R.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ec(new R.DatabaseClosed);e.open().catch(nop)}return e._state.dbReadyPromise.then(()=>tempTransaction(e,t,n,r))}const eu="3.2.0-rc.2";const eh=String.fromCharCode(65535);const ef=-1/0;const ed="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";const ep="String expected.";const em=[];const eg="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent);const ey=eg;const ev=eg;const dexieStackFrameFilter=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);const eb="__dbnames";const ew="readonly";const ex="readwrite";function combine(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}let e_;try{e_={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(ek){e_={indexedDB:null,IDBKeyRange:null}}function safariMultiStoreFix(e){return 1===e.length?e[0]:e}let getMaxKey=e=>{try{e.only([[]]);getMaxKey=()=>[[]];return[[]]}catch(t){getMaxKey=()=>eh;return eh}};const eC={type:3,lower:-1/0,lowerOpen:false,get upper(){return getMaxKey(e_.IDBKeyRange)},upperOpen:false};function workaroundForUndefinedPrimKey(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>{if(void 0===t[e]&&e in t){t=deepClone(t);delete t[e]}return t}}class eP{_trans(e,t,n){const r=this._tx||Y.trans;const i=this.name;function checkTableInTransaction(e,n,r){if(!r.schema[i])throw new R.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}const a=beginMicroTickScope();try{return r&&r.db===this.db?r===Y.trans?r._promise(e,checkTableInTransaction,n):newScope(()=>r._promise(e,checkTableInTransaction,n),{trans:r,transless:Y.transless||Y}):tempTransaction(this.db,e,[this.name],checkTableInTransaction)}finally{if(a)endMicroTickScope()}}get(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);return this._trans("readonly",t=>{return this.core.get({trans:t,key:e}).then(e=>this.hook.reading.fire(e))}).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(a(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=i(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(e=>e.compound&&t.every(t=>e.keyPath.indexOf(t)>=0)&&e.keyPath.every(e=>t.indexOf(e)>=0))[0];if(n&&this.db._maxKey!==eh)return this.where(n.name).equals(n.keyPath.map(t=>e[t]));if(!n&&x)console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema;const o=this.db._deps.indexedDB;function equals(e,t){try{return 0===o.cmp(e,t)}catch(n){return false}}const[s,l]=t.reduce(([t,n],i)=>{const o=r[i];const s=e[i];return[t||o,t||!o?combine(n,o&&o.multi?e=>{const t=getByKeyPath(e,i);return a(t)&&t.some(e=>equals(s,e))}:e=>equals(s,getByKeyPath(e,i))):n]},[null,null]);return s?this.where(s.name).equals(e[s.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,a(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const readHook=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(hasOwn(t,r))try{n[r]=t[r]}catch(i){}return n};if(this.schema.readHook)this.hook.reading.unsubscribe(this.schema.readHook);this.schema.readHook=readHook;this.hook("reading",readHook);return e}defineClass(){function Class(e){extend(this,e)}return this.mapToClass(Class)}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;if(r&&n)i=workaroundForUndefinedPrimKey(r)(e);return this._trans("readwrite",e=>{return this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]})}).then(e=>e.numFailures?DexiePromise.reject(e.failures[0]):e.lastResult).then(t=>{if(r)try{setByKeyPath(e,r,t)}catch(n){}return t})}update(e,t){if("object"!=typeof e||a(e))return this.where(":id").equals(e).modify(t);{const n=getByKeyPath(e,this.schema.primKey.keyPath);if(void 0===n)return ec(new R.InvalidArgument("Given object does not contain its primary key"));try{if("function"!=typeof t)i(t).forEach(n=>{setByKeyPath(e,n,t[n])});else t(e,{value:e,primKey:n})}catch(r){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;if(r&&n)i=workaroundForUndefinedPrimKey(r)(e);return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null})).then(e=>e.numFailures?DexiePromise.reject(e.failures[0]):e.lastResult).then(t=>{if(r)try{setByKeyPath(e,r,t)}catch(n){}return t})}delete(e){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"delete",keys:[e]})).then(e=>e.numFailures?DexiePromise.reject(e.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:eC})).then(e=>e.numFailures?DexiePromise.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",t=>{return this.core.getMany({keys:e,trans:t}).then(e=>e.map(e=>this.hook.reading.fire(e)))})}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0;n=n||(r?void 0:t);const i=n?n.allKeys:void 0;return this._trans("readwrite",t=>{const{auto:n,keyPath:a}=this.schema.primKey;if(a&&r)throw new R.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new R.InvalidArgument("Arguments objects and keys must have the same length");const o=e.length;let s=a&&n?e.map(workaroundForUndefinedPrimKey(a)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:s,wantResults:i}).then(({numFailures:e,results:t,lastResult:n,failures:r})=>{const a=i?t:n;if(0===e)return a;throw new BulkError(`${this.name}.bulkAdd(): ${e} of ${o} operations failed`,r)})})}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0;n=n||(r?void 0:t);const i=n?n.allKeys:void 0;return this._trans("readwrite",t=>{const{auto:n,keyPath:a}=this.schema.primKey;if(a&&r)throw new R.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new R.InvalidArgument("Arguments objects and keys must have the same length");const o=e.length;let s=a&&n?e.map(workaroundForUndefinedPrimKey(a)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:s,wantResults:i}).then(({numFailures:e,results:t,lastResult:n,failures:r})=>{const a=i?t:n;if(0===e)return a;throw new BulkError(`${this.name}.bulkPut(): ${e} of ${o} operations failed`,r)})})}bulkDelete(e){const t=e.length;return this._trans("readwrite",t=>{return this.core.mutate({trans:t,type:"delete",keys:e})}).then(({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new BulkError(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)})}}function Events(e){var t={};var rv=function(n,r){if(r){var i=arguments.length,a=new Array(i-1);while(--i)a[i-1]=arguments[i];t[n].subscribe.apply(null,a);return e}if("string"==typeof n)return t[n]};rv.addEventType=add;for(var n=1,r=arguments.length;n<r;++n)add(arguments[n]);return rv;function add(e,n,r){if("object"==typeof e)return addConfiguredEvents(e);if(!n)n=reverseStoppableEventChain;if(!r)r=nop;var i={subscribers:[],fire:r,subscribe:function(e){if(-1===i.subscribers.indexOf(e)){i.subscribers.push(e);i.fire=n(i.fire,e)}},unsubscribe:function(e){i.subscribers=i.subscribers.filter(function(t){return t!==e});i.fire=i.subscribers.reduce(n,r)}};t[e]=rv[e]=i;return i}function addConfiguredEvents(e){i(e).forEach(function(t){var n=e[t];if(a(n))add(t,e[t][0],e[t][1]);else if("asap"===n)var r=add(t,mirror,function(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];r.subscribers.forEach(function(e){asap$1(function(){e.apply(null,t)})})});else throw new R.InvalidArgument("Invalid event config")})}}function makeClassConstructor(e,t){derive(t).from({prototype:e});return t}function createTableConstructor(e){return makeClassConstructor(eP.prototype,function(t,n,r){this.db=e;this._tx=r;this.name=t;this.schema=n;this.hook=e._allTables[t]?e._allTables[t].hook:Events(null,{creating:[hookCreatingChain,nop],reading:[pureFunctionChain,mirror],updating:[hookUpdatingChain,nop],deleting:[hookDeletingChain,nop]})})}function isPlainKeyRange(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function addFilter(e,t){e.filter=combine(e.filter,t)}function addReplayFilter(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>combine(r(),t()):t;e.justLimit=n&&!r}function addMatchFilter(e,t){e.isMatch=combine(e.isMatch,t)}function getIndexOrStore(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new R.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function openCursor(e,t,n){const r=getIndexOrStore(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function iter(e,t,n,r){const i=e.replayFilter?combine(e.filter,e.replayFilter()):e.filter;if(!e.or)return iterate(openCursor(e,r,n),combine(e.algorithm,i),t,!e.keysOnly&&e.valueMapper);{const a={};const union=(e,n,r)=>{if(!i||i(n,r,e=>n.stop(e),e=>n.fail(e))){var o=n.primaryKey;var s=""+o;if("[object ArrayBuffer]"===s)s=""+new Uint8Array(o);if(!hasOwn(a,s)){a[s]=true;t(e,n,r)}}};return Promise.all([e.or._iterate(union,n),iterate(openCursor(e,r,n),e.algorithm,union,!e.keysOnly&&e.valueMapper)])}}function iterate(e,t,n,r){var i=r?(e,t,i)=>n(r(e),t,i):n;var a=wrap(i);return e.then(e=>{if(e)return e.start(()=>{var c=()=>e.continue();if(!t||t(e,e=>c=e,t=>{e.stop(t);c=nop},t=>{e.fail(t);c=nop}))a(e.value,e,e=>c=e);c()})})}class eS{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,ec.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,ec.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=combine(t.algorithm,e)}_iterate(e,t){return iter(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);if(e)extend(n,e);t._ctx=n;return t}raw(){this._ctx.valueMapper=null;return this}each(e){var t=this._ctx;return this._read(n=>iter(t,e,n,t.table.core))}count(e){return this._read(e=>{const t=this._ctx;const n=t.table.core;if(isPlainKeyRange(t,true))return n.count({trans:e,query:{index:getIndexOrStore(t,n.schema),range:t.range}}).then(e=>Math.min(e,t.limit));var r=0;return iter(t,()=>{++r;return false},e,n).then(()=>r)}).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],i=n.length-1;function getval(e,t){if(t)return getval(e[n[t]],t-1);return e[r]}var a="next"===this._ctx.dir?1:-1;function sorter(e,t){var n=getval(e,i),r=getval(t,i);return n<r?-a:n>r?a:0}return this.toArray(function(e){return e.sort(sorter)}).then(t)}toArray(e){return this._read(e=>{var t=this._ctx;if("next"===t.dir&&isPlainKeyRange(t,true)&&t.limit>0){const{valueMapper:n}=t;const r=getIndexOrStore(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:true,query:{index:r,range:t.range}}).then(({result:e})=>n?e.map(n):e)}{const i=[];return iter(t,e=>i.push(e),e,t.table.core).then(()=>i)}},e)}offset(e){var t=this._ctx;if(e<=0)return this;t.offset+=e;isPlainKeyRange(t)?addReplayFilter(t,()=>{var t=e;return(e,n)=>{if(0===t)return true;if(1===t){--t;return false}n(()=>{e.advance(t);t=0});return false}}):addReplayFilter(t,()=>{var t=e;return()=>--t<0});return this}limit(e){this._ctx.limit=Math.min(this._ctx.limit,e);addReplayFilter(this._ctx,()=>{var t=e;return function(e,n,r){if(--t<=0)n(r);return t>=0}},true);return this}until(e,t){addFilter(this._ctx,function(n,r,i){if(!e(n.value))return true;r(i);return t});return this}first(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){addFilter(this._ctx,function(t){return e(t.value)});addMatchFilter(this._ctx,e);return this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){this._ctx.dir="prev"===this._ctx.dir?"next":"prev";if(this._ondirectionchange)this._ondirectionchange(this._ctx.dir);return this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;t.keysOnly=!t.isMatch;return this.each(function(t,n){e(n.key,n)})}eachUniqueKey(e){this._ctx.unique="unique";return this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;t.keysOnly=!t.isMatch;return this.each(function(t,n){e(n.primaryKey,n)})}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&isPlainKeyRange(t,true)&&t.limit>0)return this._read(e=>{var n=getIndexOrStore(t,t.table.core.schema);return t.table.core.query({trans:e,values:false,limit:t.limit,query:{index:n,range:t.range}})}).then(({result:e})=>e).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){this._ctx.unique="unique";return this.keys(e)}firstKey(e){return this.limit(1).keys(function(e){return e[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};addFilter(this._ctx,function(e){var t=e.primaryKey.toString();var r=hasOwn(n,t);n[t]=true;return!r});return this}modify(e){var t=this._ctx;return this._write(n=>{var r;if("function"==typeof e)r=e;else{var a=i(e);var o=a.length;r=function(t){var n=false;for(var r=0;r<o;++r){var i=a[r],s=e[i];if(getByKeyPath(t,i)!==s){setByKeyPath(t,i,s);n=true}}return n}}const s=t.table.core;const{outbound:l,extractKey:u}=s.schema.primaryKey;const h=this.db._options.modifyChunkSize||200;const{cmp:f}=this.db.core;const d=[];let p=0;const m=[];const applyMutateResult=(e,t)=>{const{failures:n,numFailures:r}=t;p+=e-r;for(let a of i(n))d.push(n[a])};return this.clone().primaryKeys().then(i=>{const nextChunk=a=>{const o=Math.min(h,i.length-a);return s.getMany({trans:n,keys:i.slice(a,a+o),cache:"immutable"}).then(d=>{const p=[];const m=[];const g=l?[]:null;const y=[];for(let v=0;v<o;++v){const b=d[v];const w={value:deepClone(b),primKey:i[a+v]};if(false!==r.call(w,w.value,w))if(null==w.value)y.push(i[a+v]);else if(l||0===f(u(b),u(w.value))){m.push(w.value);if(l)g.push(i[a+v])}else{y.push(i[a+v]);p.push(w.value)}}const x=isPlainKeyRange(t)&&t.limit===1/0&&("function"!=typeof e||e===deleteCallback)&&{index:t.index,range:t.range};return Promise.resolve(p.length>0&&s.mutate({trans:n,type:"add",values:p}).then(e=>{for(let t in e.failures)y.splice(parseInt(t),1);applyMutateResult(p.length,e)})).then(()=>(m.length>0||x&&"object"==typeof e)&&s.mutate({trans:n,type:"put",keys:g,values:m,criteria:x,changeSpec:"function"!=typeof e&&e}).then(e=>applyMutateResult(m.length,e))).then(()=>(y.length>0||x&&e===deleteCallback)&&s.mutate({trans:n,type:"delete",keys:y,criteria:x}).then(e=>applyMutateResult(y.length,e))).then(()=>{return i.length>a+o&&nextChunk(a+h)})})};return nextChunk(0).then(()=>{if(d.length>0)throw new ModifyError("Error modifying one or more objects",d,p,m);return i.length})})})}delete(){var e=this._ctx,t=e.range;if(isPlainKeyRange(e)&&(e.isPrimKey&&!ev||3===t.type))return this._write(n=>{const{primaryKey:r}=e.table.core.schema;const i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then(t=>{return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(({failures:e,lastResult:n,results:r,numFailures:i})=>{if(i)throw new ModifyError("Could not delete some values",Object.keys(e).map(t=>e[t]),t-i);return t-i})})});return this.modify(deleteCallback)}}const deleteCallback=(e,t)=>t.value=null;function createCollectionConstructor(e){return makeClassConstructor(eS.prototype,function(t,n){this.db=e;let r=eC,i=null;if(n)try{r=n()}catch(a){i=a}const o=t._ctx;const s=o.table;const l=s.hook.reading.fire;this._ctx={table:s,index:o.index,isPrimKey:!o.index||s.schema.primKey.keyPath&&o.index===s.schema.primKey.name,range:r,keysOnly:false,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:true,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueMapper:l!==mirror?l:null}})}function simpleCompare(e,t){return e<t?-1:e===t?0:1}function simpleCompareReverse(e,t){return e>t?-1:e===t?0:1}function fail(e,t,n){var r=e instanceof eT?new e.Collection(e):e;r._ctx.error=n?new n(t):new TypeError(t);return r}function emptyCollection(e){return new e.Collection(e,()=>rangeEqual("")).limit(0)}function upperFactory(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}function lowerFactory(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}function nextCasing(e,t,n,r,i,a){var o=Math.min(e.length,r.length);var s=-1;for(var l=0;l<o;++l){var u=t[l];if(u!==r[l]){if(i(e[l],n[l])<0)return e.substr(0,l)+n[l]+n.substr(l+1);if(i(e[l],r[l])<0)return e.substr(0,l)+r[l]+n.substr(l+1);if(s>=0)return e.substr(0,s)+t[s]+n.substr(s+1);return null}if(i(e[l],u)<0)s=l}if(o<r.length&&"next"===a)return e+n.substr(e.length);if(o<e.length&&"prev"===a)return e.substr(0,n.length);return s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function addIgnoreCaseAlgorithm(e,t,n,r){var i,a,o,s,l,u,h,f=n.length;if(!n.every(e=>"string"==typeof e))return fail(e,ep);function initDirection(e){i=upperFactory(e);a=lowerFactory(e);o="next"===e?simpleCompare:simpleCompareReverse;var t=n.map(function(e){return{lower:a(e),upper:i(e)}}).sort(function(e,t){return o(e.lower,t.lower)});s=t.map(function(e){return e.upper});l=t.map(function(e){return e.lower});u=e;h="next"===e?"":r}initDirection("next");var d=new e.Collection(e,()=>createRange(s[0],l[f-1]+r));d._ondirectionchange=function(e){initDirection(e)};var p=0;d._addAlgorithm(function(e,n,r){var i=e.key;if("string"!=typeof i)return false;var d=a(i);if(t(d,l,p))return true;var m=null;for(var g=p;g<f;++g){var y=nextCasing(i,d,s[g],l[g],o,u);if(null===y&&null===m)p=g+1;else if(null===m||o(m,y)>0)m=y}n(null!==m?function(){e.continue(m+h)}:r);return false});return d}function createRange(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function rangeEqual(e){return{type:1,lower:e,upper:e}}class eT{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=false!==n;r=true===r;try{if(this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&!(n&&r))return emptyCollection(this);return new this.Collection(this,()=>createRange(e,t,!n,!r))}catch(i){return fail(this,ed)}}equals(e){if(null==e)return fail(this,ed);return new this.Collection(this,()=>rangeEqual(e))}above(e){if(null==e)return fail(this,ed);return new this.Collection(this,()=>createRange(e,void 0,true))}aboveOrEqual(e){if(null==e)return fail(this,ed);return new this.Collection(this,()=>createRange(e,void 0,false))}below(e){if(null==e)return fail(this,ed);return new this.Collection(this,()=>createRange(void 0,e,false,true))}belowOrEqual(e){if(null==e)return fail(this,ed);return new this.Collection(this,()=>createRange(void 0,e))}startsWith(e){if("string"!=typeof e)return fail(this,ep);return this.between(e,e+eh,true,true)}startsWithIgnoreCase(e){if(""===e)return this.startsWith(e);return addIgnoreCaseAlgorithm(this,(e,t)=>0===e.indexOf(t[0]),[e],eh)}equalsIgnoreCase(e){return addIgnoreCaseAlgorithm(this,(e,t)=>e===t[0],[e],"")}anyOfIgnoreCase(){var e=getArrayOf.apply(b,arguments);if(0===e.length)return emptyCollection(this);return addIgnoreCaseAlgorithm(this,(e,t)=>-1!==t.indexOf(e),e,"")}startsWithAnyOfIgnoreCase(){var e=getArrayOf.apply(b,arguments);if(0===e.length)return emptyCollection(this);return addIgnoreCaseAlgorithm(this,(e,t)=>t.some(t=>0===e.indexOf(t)),e,eh)}anyOf(){const e=getArrayOf.apply(b,arguments);let t=this._cmp;try{e.sort(t)}catch(n){return fail(this,ed)}if(0===e.length)return emptyCollection(this);const r=new this.Collection(this,()=>createRange(e[0],e[e.length-1]));r._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending;e.sort(t)};let i=0;r._addAlgorithm((n,r,a)=>{const o=n.key;while(t(o,e[i])>0){++i;if(i===e.length){r(a);return false}}if(0===t(o,e[i]))return true;r(()=>{n.continue(e[i])});return false});return r}notEqual(e){return this.inAnyRange([[ef,e],[e,this.db._maxKey]],{includeLowers:false,includeUppers:false})}noneOf(){const e=getArrayOf.apply(b,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(t){return fail(this,ed)}const n=e.reduce((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[ef,t]],null);n.push([e[e.length-1],this.db._maxKey]);return this.inAnyRange(n,{includeLowers:false,includeUppers:false})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,i=this._descending,a=this._min,o=this._max;if(0===e.length)return emptyCollection(this);if(!e.every(e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0))return fail(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",R.InvalidArgument);const s=!t||false!==t.includeLowers;const l=t&&true===t.includeUppers;function addRange(e,t){let r=0,i=e.length;for(;r<i;++r){const s=e[r];if(n(t[0],s[1])<0&&n(t[1],s[0])>0){s[0]=a(s[0],t[0]);s[1]=o(s[1],t[1]);break}}if(r===i)e.push(t);return e}let u=r;function rangeSorter(e,t){return u(e[0],t[0])}let h;try{h=e.reduce(addRange,[]);h.sort(rangeSorter)}catch(f){return fail(this,ed)}let d=0;const p=l?e=>r(e,h[d][1])>0:e=>r(e,h[d][1])>=0;const m=s?e=>i(e,h[d][0])>0:e=>i(e,h[d][0])>=0;function keyWithinCurrentRange(e){return!p(e)&&!m(e)}let g=p;const y=new this.Collection(this,()=>createRange(h[0][0],h[h.length-1][1],!s,!l));y._ondirectionchange=e=>{if("next"===e){g=p;u=r}else{g=m;u=i}h.sort(rangeSorter)};y._addAlgorithm((e,t,n)=>{var i=e.key;while(g(i)){++d;if(d===h.length){t(n);return false}}if(keyWithinCurrentRange(i))return true;if(0===this._cmp(i,h[d][1])||0===this._cmp(i,h[d][0]))return false;t(()=>{if(u===r)e.continue(h[d][0]);else e.continue(h[d][1])});return false});return y}startsWithAnyOf(){const e=getArrayOf.apply(b,arguments);if(!e.every(e=>"string"==typeof e))return fail(this,"startsWithAnyOf() only works with strings");if(0===e.length)return emptyCollection(this);return this.inAnyRange(e.map(e=>[e,e+eh]))}}function createWhereClauseConstructor(e){return makeClassConstructor(eT.prototype,function(t,n,r){this.db=e;this._ctx={table:t,index:":id"===n?null:n,or:r};const i=e._deps.indexedDB;if(!i)throw new R.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i);this._descending=(e,t)=>i.cmp(t,e);this._max=(e,t)=>i.cmp(e,t)>0?e:t;this._min=(e,t)=>i.cmp(e,t)<0?e:t;this._IDBKeyRange=e._deps.IDBKeyRange})}function eventRejectHandler(e){return wrap(function(t){preventDefault(t);e(t.target.error);return false})}function preventDefault(e){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault()}const eE="storagemutated";const eR="x-storagemutated-1";const eD=Events(null,eE);class eO{_lock(){assert(!Y.global);++this._reculock;if(1===this._reculock&&!Y.global)Y.lockOwnerFor=this;return this}_unlock(){assert(!Y.global);if(0===--this._reculock){if(!Y.global)Y.lockOwnerFor=null;while(this._blockedFuncs.length>0&&!this._locked()){var e=this._blockedFuncs.shift();try{usePSD(e[1],e[0])}catch(t){}}}return this}_locked(){return this._reculock&&Y.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb;const n=this.db._state.dbOpenError;assert(!this.idbtrans);if(!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new R.DatabaseClosed(n);case"MissingAPIError":throw new R.MissingAPI(n.message,n);default:throw new R.OpenFailed(n)}if(!this.active)throw new R.TransactionInactive;assert(null===this._completion._state);e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}));e.onerror=wrap(t=>{preventDefault(t);this._reject(e.error)});e.onabort=wrap(t=>{preventDefault(t);this.active&&this._reject(new R.Abort(e.error));this.active=false;this.on("abort").fire(t)});e.oncomplete=wrap(()=>{this.active=false;this._resolve();if("mutatedParts"in e)eD.storagemutated.fire(e["mutatedParts"])});return this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return ec(new R.ReadOnly("Transaction is readonly"));if(!this.active)return ec(new R.TransactionInactive);if(this._locked())return new DexiePromise((r,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,i)},Y])});if(n)return newScope(()=>{var e=new DexiePromise((e,n)=>{this._lock();const r=t(e,n,this);if(r&&r.then)r.then(e,n)});e.finally(()=>this._unlock());e._lib=true;return e});var r=new DexiePromise((e,n)=>{var r=t(e,n,this);if(r&&r.then)r.then(e,n)});r._lib=true;return r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=DexiePromise.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then(()=>n);else{t._waitingFor=n;t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);(function spin(){++t._spinCount;while(t._waitingQueue.length)t._waitingQueue.shift()();if(t._waitingFor)r.get(-1/0).onsuccess=spin})()}var i=t._waitingFor;return new DexiePromise((e,r)=>{n.then(n=>t._waitingQueue.push(wrap(e.bind(null,n))),e=>t._waitingQueue.push(wrap(r.bind(null,e)))).finally(()=>{if(t._waitingFor===i)t._waitingFor=null})})}abort(){if(this.active){this.active=false;if(this.idbtrans)this.idbtrans.abort();this._reject(new R.Abort)}}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(hasOwn(t,e))return t[e];const n=this.schema[e];if(!n)throw new R.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);r.core=this.db.core.table(e);t[e]=r;return r}}function createTransactionConstructor(e){return makeClassConstructor(eO.prototype,function(t,n,r,i,a){this.db=e;this.mode=t;this.storeNames=n;this.schema=r;this.chromeTransactionDurability=i;this.idbtrans=null;this.on=Events(this,"complete","error","abort");this.parent=a||null;this.active=true;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new DexiePromise((e,t)=>{this._resolve=e;this._reject=t});this._completion.then(()=>{this.active=false;this.on.complete.fire()},e=>{var t=this.active;this.active=false;this.on.error.fire(e);this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort();return ec(e)})})}function createIndexSpec(e,t,n,r,i,a,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:a,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+nameFromKeyPath(t)}}function nameFromKeyPath(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function createTableSchema(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:arrayToObject(n,e=>[e.name,e])}}function getKeyExtractor(e){if(null==e)return()=>void 0;if("string"==typeof e)return getSinglePathKeyExtractor(e);return t=>getByKeyPath(t,e)}function getSinglePathKeyExtractor(e){const t=e.split(".");if(1===t.length)return t=>t[e];return t=>getByKeyPath(t,e)}function arrayify(e){return[].slice.call(e)}let eA=0;function getKeyPathAlias(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function createDBCore(e,t,n,r){const i=t.cmp.bind(t);function extractSchema(e,t){const n=arrayify(e.objectStoreNames);return{schema:{name:e.name,tables:n.map(e=>t.objectStore(e)).map(e=>{const{keyPath:t,autoIncrement:n}=e;const r=a(t);const i=null==t;const o={};const s={name:e.name,primaryKey:{name:null,isPrimaryKey:true,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:true,extractKey:getKeyExtractor(t)},indexes:arrayify(e.indexNames).map(t=>e.index(t)).map(e=>{const{name:t,unique:n,multiEntry:r,keyPath:i}=e;const s=a(i);const l={name:t,compound:s,keyPath:i,unique:n,multiEntry:r,extractKey:getKeyExtractor(i)};o[getKeyPathAlias(i)]=l;return l}),getIndexByKeyPath:e=>o[getKeyPathAlias(e)]};o[":id"]=s.primaryKey;if(null!=t)o[getKeyPathAlias(t)]=s.primaryKey;return s})},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function makeIDBKeyRange(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:t,upper:r,lowerOpen:i,upperOpen:a}=e;const o=void 0===t?void 0===r?null:n.upperBound(r,!!a):void 0===r?n.lowerBound(t,!!i):n.bound(t,r,!!i,!!a);return o}function createDbCoreTable(e){const t=e.name;function mutate({trans:e,type:n,keys:r,values:i,range:a}){return new Promise((o,s)=>{o=wrap(o);const l=e.objectStore(t);const u=null==l.keyPath;const h="put"===n||"add"===n;if(!h&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:f}=r||i||{length:1};if(r&&i&&r.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===f)return o({numFailures:0,failures:{},results:[],lastResult:void 0});let d;const p=[];const m=[];let g=0;const errorHandler=e=>{++g;preventDefault(e)};if("deleteRange"===n){if(4===a.type)return o({numFailures:g,failures:m,results:[],lastResult:void 0});if(3===a.type)p.push(d=l.clear());else p.push(d=l.delete(makeIDBKeyRange(a)))}else{const[y,v]=h?u?[i,r]:[i,null]:[r,null];if(h)for(let b=0;b<f;++b){p.push(d=v&&void 0!==v[b]?l[n](y[b],v[b]):l[n](y[b]));d.onerror=errorHandler}else for(let w=0;w<f;++w){p.push(d=l[n](y[w]));d.onerror=errorHandler}}const done=e=>{const t=e.target.result;p.forEach((e,t)=>null!=e.error&&(m[t]=e.error));o({numFailures:g,failures:m,results:"delete"===n?r:p.map(e=>e.result),lastResult:t})};d.onerror=e=>{errorHandler(e);done(e)};d.onsuccess=done})}function openCursor({trans:e,values:n,query:r,reverse:i,unique:a}){return new Promise((o,s)=>{o=wrap(o);const{index:l,range:u}=r;const h=e.objectStore(t);const f=l.isPrimaryKey?h:h.index(l.name);const d=i?a?"prevunique":"prev":a?"nextunique":"next";const p=!n&&"openKeyCursor"in f?f.openKeyCursor(makeIDBKeyRange(u),d):f.openCursor(makeIDBKeyRange(u),d);p.onerror=eventRejectHandler(s);p.onsuccess=wrap(t=>{const n=p.result;if(!n){o(null);return}n.___id=++eA;n.done=false;const r=n.continue.bind(n);let i=n.continuePrimaryKey;if(i)i=i.bind(n);const a=n.advance.bind(n);const doThrowCursorIsNotStarted=()=>{throw new Error("Cursor not started")};const doThrowCursorIsStopped=()=>{throw new Error("Cursor not stopped")};n.trans=e;n.stop=n.continue=n.continuePrimaryKey=n.advance=doThrowCursorIsNotStarted;n.fail=wrap(s);n.next=function(){let e=1;return this.start(()=>e--?this.continue():this.stop()).then(()=>this)};n.start=e=>{const t=new Promise((e,t)=>{e=wrap(e);p.onerror=eventRejectHandler(t);n.fail=t;n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=doThrowCursorIsStopped;e(t)}});const guardedCallback=()=>{if(p.result)try{e()}catch(t){n.fail(t)}else{n.done=true;n.start=()=>{throw new Error("Cursor behind last entry")};n.stop()}};p.onsuccess=wrap(e=>{p.onsuccess=guardedCallback;guardedCallback()});n.continue=r;n.continuePrimaryKey=i;n.advance=a;guardedCallback();return t};o(n)},s)})}function query(e){return n=>{return new Promise((r,i)=>{r=wrap(r);const{trans:a,values:o,limit:s,query:l}=n;const u=s===1/0?void 0:s;const{index:h,range:f}=l;const d=a.objectStore(t);const p=h.isPrimaryKey?d:d.index(h.name);const m=makeIDBKeyRange(f);if(0===s)return r({result:[]});if(e){const g=o?p.getAll(m,u):p.getAllKeys(m,u);g.onsuccess=e=>r({result:e.target.result});g.onerror=eventRejectHandler(i)}else{let y=0;const v=!o&&"openKeyCursor"in p?p.openKeyCursor(m):p.openCursor(m);const b=[];v.onsuccess=e=>{const t=v.result;if(!t)return r({result:b});b.push(o?t.value:t.primaryKey);if(++y===s)return r({result:b});t.continue()};v.onerror=eventRejectHandler(i)}})}}return{name:t,schema:e,mutate,getMany({trans:e,keys:n}){return new Promise((r,i)=>{r=wrap(r);const a=e.objectStore(t);const o=n.length;const s=new Array(o);let l=0;let u=0;let h;const successHandler=e=>{const t=e.target;s[t._pos]=t.result;if(++u===l)r(s)};const f=eventRejectHandler(i);for(let d=0;d<o;++d){const p=n[d];if(null!=p){h=a.get(n[d]);h._pos=d;h.onsuccess=successHandler;h.onerror=f;++l}}if(0===l)r(s)})},get({trans:e,key:n}){return new Promise((r,i)=>{r=wrap(r);const a=e.objectStore(t);const o=a.get(n);o.onsuccess=e=>r(e.target.result);o.onerror=eventRejectHandler(i)})},query:query(s),openCursor,count({query:e,trans:n}){const{index:r,range:i}=e;return new Promise((e,a)=>{const o=n.objectStore(t);const s=r.isPrimaryKey?o:o.index(r.name);const l=makeIDBKeyRange(i);const u=l?s.count(l):s.count();u.onsuccess=wrap(t=>e(t.target.result));u.onerror=eventRejectHandler(a)})}}}const{schema:o,hasGetAll:s}=extractSchema(e,r);const l=o.tables.map(e=>createDbCoreTable(e));const u={};l.forEach(e=>u[e.name]=e);return{stack:"dbcore",transaction:e.transaction.bind(e),table(e){const t=u[e];if(!t)throw new Error(`Table '${e}' not found`);return u[e]},cmp:i,MIN_KEY:-1/0,MAX_KEY:getMaxKey(n),schema:o}}function createMiddlewareStack(e,t){return t.reduce((e,{create:t})=>({...e,...t(e)}),e)}function createMiddlewareStacks(e,t,{IDBKeyRange:n,indexedDB:r},i){const a=createMiddlewareStack(createDBCore(t,r,n,i),e.dbcore);return{dbcore:a}}function generateMiddlewareStacks({_novip:e},t){const n=t.db;const r=createMiddlewareStacks(e._middlewares,n,e._deps,t);e.core=r.dbcore;e.tables.forEach(t=>{const n=t.name;if(e.core.schema.tables.some(e=>e.name===n)){t.core=e.core.table(n);if(e[n]instanceof e.Table)e[n].core=t.core}})}function setApiOnPlace({_novip:e},t,n,r){n.forEach(n=>{const i=r[n];t.forEach(t=>{const r=getPropertyDescriptor(t,n);if(!r||"value"in r&&void 0===r.value)if(t===e.Transaction.prototype||t instanceof e.Transaction)setProp(t,n,{get(){return this.table(n)},set(e){l(this,n,{value:e,writable:true,configurable:true,enumerable:true})}});else t[n]=new e.Table(n,i)})})}function removeTablesApi({_novip:e},t){t.forEach(t=>{for(let n in t)if(t[n]instanceof e.Table)delete t[n]})}function lowerVersionFirst(e,t){return e._cfg.version-t._cfg.version}function runUpgraders(e,t,n,r){const a=e._dbSchema;const o=e._createTransaction("readwrite",e._storeNames,a);o.create(n);o._completion.catch(r);const s=o._reject.bind(o);const l=Y.transless||Y;newScope(()=>{Y.trans=o;Y.transless=l;if(0===t){i(a).forEach(e=>{createTable(n,e,a[e].primKey,a[e].indexes)});generateMiddlewareStacks(e,n);DexiePromise.follow(()=>e.on.populate.fire(o)).catch(s)}else updateTablesAndIndexes(e,t,o,n).catch(s)})}function updateTablesAndIndexes({_novip:e},t,n,r){const a=[];const o=e._versions;let s=e._dbSchema=buildGlobalSchema(e,e.idbdb,r);let l=false;const u=o.filter(e=>e._cfg.version>=t);u.forEach(o=>{a.push(()=>{const a=s;const u=o._cfg.dbschema;adjustToExistingIndexNames(e,a,r);adjustToExistingIndexNames(e,u,r);s=e._dbSchema=u;const h=getSchemaDiff(a,u);h.add.forEach(e=>{createTable(r,e[0],e[1].primKey,e[1].indexes)});h.change.forEach(e=>{if(e.recreate)throw new R.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach(e=>addIndex(t,e));e.change.forEach(e=>{t.deleteIndex(e.name);addIndex(t,e)});e.del.forEach(e=>t.deleteIndex(e))}});const f=o._cfg.contentUpgrade;if(f&&o._cfg.version>t){generateMiddlewareStacks(e,r);n._memoizedTables={};l=true;let d=shallowClone(u);h.del.forEach(e=>{d[e]=a[e]});removeTablesApi(e,[e.Transaction.prototype]);setApiOnPlace(e,[e.Transaction.prototype],i(d),d);n.schema=d;const p=w(f);if(p)incrementExpectedAwaits();let m;const g=DexiePromise.follow(()=>{m=f(n);if(m){if(p){var e=decrementExpectedAwaits.bind(null,null);m.then(e,e)}}});return m&&"function"==typeof m.then?DexiePromise.resolve(m):g.then(()=>m)}});a.push(t=>{if(!l||!ey){const r=o._cfg.dbschema;deleteRemovedTables(r,t)}removeTablesApi(e,[e.Transaction.prototype]);setApiOnPlace(e,[e.Transaction.prototype],e._storeNames,e._dbSchema);n.schema=e._dbSchema})});function runQueue(){return a.length?DexiePromise.resolve(a.shift()(n.idbtrans)).then(runQueue):DexiePromise.resolve()}return runQueue().then(()=>{createMissingTables(s,r)})}function getSchemaDiff(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)if(!t[r])n.del.push(r);for(r in t){const i=e[r],a=t[r];if(i){const o={name:r,def:a,recreate:false,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")===""+(a.primKey.keyPath||"")&&(i.primKey.auto===a.primKey.auto||eg)){const s=i.idxByName;const l=a.idxByName;let u;for(u in s)if(!l[u])o.del.push(u);for(u in l){const h=s[u],f=l[u];if(h){if(h.src!==f.src)o.change.push(f)}else o.add.push(f)}if(o.del.length>0||o.add.length>0||o.change.length>0)n.change.push(o)}else{o.recreate=true;n.change.push(o)}}else n.add.push([r,a])}return n}function createTable(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});r.forEach(e=>addIndex(i,e));return i}function createMissingTables(e,t){i(e).forEach(n=>{if(!t.db.objectStoreNames.contains(n))createTable(t,n,e[n].primKey,e[n].indexes)})}function deleteRemovedTables(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];if(null==e[r])t.db.deleteObjectStore(r)}}function addIndex(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function buildGlobalSchema(e,t,n){const r={};const i=slice(t.objectStoreNames,0);i.forEach(e=>{const t=n.objectStore(e);let i=t.keyPath;const a=createIndexSpec(nameFromKeyPath(i),i||"",false,false,!!t.autoIncrement,i&&"string"!=typeof i,true);const o=[];for(let s=0;s<t.indexNames.length;++s){const l=t.index(t.indexNames[s]);i=l.keyPath;var u=createIndexSpec(l.name,i,!!l.unique,!!l.multiEntry,false,i&&"string"!=typeof i,false);o.push(u)}r[e]=createTableSchema(e,a,o)});return r}function readGlobalSchema({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=buildGlobalSchema(e,t,n);e._storeNames=slice(t.objectStoreNames,0);setApiOnPlace(e,[e._allTables],i(r),r)}function verifyInstalledSchema(e,t){const n=buildGlobalSchema(e,e.idbdb,t);const r=getSchemaDiff(n,e._dbSchema);return!(r.add.length||r.change.some(e=>e.add.length||e.change.length))}function adjustToExistingIndexNames({_novip:e},t,n){const i=n.db.objectStoreNames;for(let a=0;a<i.length;++a){const o=i[a];const s=n.objectStore(o);e._hasGetAll="getAll"in s;for(let l=0;l<s.indexNames.length;++l){const u=s.indexNames[l];const h=s.index(u).keyPath;const f="string"==typeof h?h:"["+slice(h).join("+")+"]";if(t[o]){const d=t[o].idxByName[f];if(d){d.name=u;delete t[o].idxByName[f];t[o].idxByName[u]=d}}}}if("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)e._hasGetAll=false}function parseIndexSyntax(e){return e.split(",").map((e,t)=>{e=e.trim();const n=e.replace(/([&*]|\+\+)/g,"");const r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return createIndexSpec(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),a(r),0===t)})}class eM{_parseStoresSpec(e,t){i(e).forEach(n=>{if(null!==e[n]){var r=parseIndexSyntax(e[n]);var i=r.shift();if(i.multi)throw new R.Schema("Primary key cannot be multi-valued");r.forEach(e=>{if(e.auto)throw new R.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new R.Schema("Index must have a name and cannot be an empty string")});t[n]=createTableSchema(n,i,r)}})}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?extend(this._cfg.storesSource,e):e;const n=t._versions;const r={};let a={};n.forEach(e=>{extend(r,e._cfg.storesSource);a=e._cfg.dbschema={};e._parseStoresSpec(r,a)});t._dbSchema=a;removeTablesApi(t,[t._allTables,t,t.Transaction.prototype]);setApiOnPlace(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i(a),a);t._storeNames=i(a);return this}upgrade(e){this._cfg.contentUpgrade=promisableChain(this._cfg.contentUpgrade||nop,e);return this}}function createVersionConstructor(e){return makeClassConstructor(eM.prototype,function(t){this.db=e;this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function getDbNamesTable(e,t){let n=e["_dbNamesDB"];if(!n){n=e["_dbNamesDB"]=new e$(eb,{addons:[],indexedDB:e,IDBKeyRange:t});n.version(1).stores({dbnames:"name"})}return n.table("dbnames")}function hasDatabasesNative(e){return e&&"function"==typeof e.databases}function getDatabaseNames({indexedDB:e,IDBKeyRange:t}){return hasDatabasesNative(e)?Promise.resolve(e.databases()).then(e=>e.map(e=>e.name).filter(e=>e!==eb)):getDbNamesTable(e,t).toCollection().primaryKeys()}function _onDatabaseCreated({indexedDB:e,IDBKeyRange:t},n){hasDatabasesNative(e)||n===eb||getDbNamesTable(e,t).put({name:n}).catch(nop)}function _onDatabaseDeleted({indexedDB:e,IDBKeyRange:t},n){hasDatabasesNative(e)||n===eb||getDbNamesTable(e,t).delete(n).catch(nop)}function vip(e){return newScope(function(){Y.letThrough=true;return e()})}function idbReady(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(e){var tryIdb=function(){return indexedDB.databases().finally(e)};t=setInterval(tryIdb,100);tryIdb()}).finally(function(){return clearInterval(t)})}function dexieOpen(e){const t=e._state;const{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?ec(t.dbOpenError):e);x&&(t.openCanceller._stackHolder=getErrorWithStack());t.isBeingOpened=true;t.dbOpenError=null;t.openComplete=false;const r=t.openCanceller;function throwIfCancelled(){if(t.openCanceller!==r)throw new R.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,a=null,o=false;return DexiePromise.race([r,("undefined"==typeof navigator?DexiePromise.resolve():idbReady()).then(()=>new DexiePromise((r,i)=>{throwIfCancelled();if(!n)throw new R.MissingAPI;const s=e.name;const l=t.autoSchema?n.open(s):n.open(s,Math.round(10*e.verno));if(!l)throw new R.MissingAPI;l.onerror=eventRejectHandler(i);l.onblocked=wrap(e._fireOnBlocked);l.onupgradeneeded=wrap(r=>{a=l.transaction;if(t.autoSchema&&!e._options.allowEmptyDB){l.onerror=preventDefault;a.abort();l.result.close();const u=n.deleteDatabase(s);u.onsuccess=u.onerror=wrap(()=>{i(new R.NoSuchDatabase(`Database ${s} doesnt exist`))})}else{a.onerror=eventRejectHandler(i);var h=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;o=h<1;e._novip.idbdb=l.result;runUpgraders(e,h/10,a,i)}},i);l.onsuccess=wrap(()=>{a=null;const n=e._novip.idbdb=l.result;const i=slice(n.objectStoreNames);if(i.length>0)try{const u=n.transaction(safariMultiStoreFix(i),"readonly");if(t.autoSchema)readGlobalSchema(e,n,u);else{adjustToExistingIndexNames(e,e._dbSchema,u);if(!verifyInstalledSchema(e,u))console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")}generateMiddlewareStacks(e,u)}catch(h){}em.push(e);n.onversionchange=wrap(n=>{t.vcFired=true;e.on("versionchange").fire(n)});n.onclose=wrap(t=>{e.on("close").fire(t)});if(o)_onDatabaseCreated(e._deps,s);r()},i)}))]).then(()=>{throwIfCancelled();t.onReadyBeingFired=[];return DexiePromise.resolve(vip(()=>e.on.ready.fire(e.vip))).then(function fireRemainders(){if(t.onReadyBeingFired.length>0){let n=t.onReadyBeingFired.reduce(promisableChain,nop);t.onReadyBeingFired=[];return DexiePromise.resolve(vip(()=>n(e.vip))).then(fireRemainders)}})}).finally(()=>{t.onReadyBeingFired=null;t.isBeingOpened=false}).then(()=>{return e}).catch(n=>{t.dbOpenError=n;try{a&&a.abort()}catch(i){}if(r===t.openCanceller)e._close();return ec(n)}).finally(()=>{t.openComplete=true;i()})}function awaitIterator(e){var callNext=t=>e.next(t),doThrow=t=>e.throw(t),t=step(callNext),n=step(doThrow);function step(e){return r=>{var i=e(r),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(t,n):a(o)?Promise.all(o).then(t,n):t(o)}}return step(callNext)()}function extractTransactionArgs(e,t,n){var r=arguments.length;if(r<2)throw new R.InvalidArgument("Too few arguments");var i=new Array(r-1);while(--r)i[r-1]=arguments[r];n=i.pop();var a=flatten(i);return[e,a,n]}function enterTransactionScope(e,t,n,r,i){return DexiePromise.resolve().then(()=>{const a=Y.transless||Y;const o=e._createTransaction(t,n,e._dbSchema,r);const s={trans:o,transless:a};if(r)o.idbtrans=r.idbtrans;else o.create();const l=w(i);if(l)incrementExpectedAwaits();let u;const h=DexiePromise.follow(()=>{u=i.call(o,o);if(u){if(l){var e=decrementExpectedAwaits.bind(null,null);u.then(e,e)}else if("function"==typeof u.next&&"function"==typeof u.throw)u=awaitIterator(u)}},s);return(u&&"function"==typeof u.then?DexiePromise.resolve(u).then(e=>o.active?e:ec(new R.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):h.then(()=>u)).then(e=>{if(r)o._resolve();return o._completion.then(()=>e)}).catch(e=>{o._reject(e);return ec(e)})})}function pad(e,t,n){const r=a(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}function createVirtualIndexMiddleware(e){return{...e,table(t){const n=e.table(t);const{schema:r}=n;const i={};const a=[];function addVirtualIndexes(e,t,n){const r=getKeyPathAlias(e);const o=i[r]=i[r]||[];const s=null==e?0:"string"==typeof e?1:e.length;const l=t>0;const u={...n,isVirtual:l,keyTail:t,keyLength:s,extractKey:getKeyExtractor(e),unique:!l&&n.unique};o.push(u);if(!u.isPrimaryKey)a.push(u);if(s>1){const h=2===s?e[0]:e.slice(0,s-1);addVirtualIndexes(h,t+1,n)}o.sort((e,t)=>e.keyTail-t.keyTail);return u}const o=addVirtualIndexes(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(const s of r.indexes)addVirtualIndexes(s.keyPath,0,s);function findBestIndex(e){const t=i[getKeyPathAlias(e)];return t&&t[0]}function translateRange(t,n){return{type:1===t.type?2:t.type,lower:pad(t.lower,t.lowerOpen?e.MAX_KEY:e.MIN_KEY,n),lowerOpen:true,upper:pad(t.upper,t.upperOpen?e.MIN_KEY:e.MAX_KEY,n),upperOpen:true}}function translateRequest(e){const t=e.query.index;return t.isVirtual?{...e,query:{index:t,range:translateRange(e.query.range,t.keyTail)}}:e}const l={...n,schema:{...r,primaryKey:o,indexes:a,getIndexByKeyPath:findBestIndex},count(e){return n.count(translateRequest(e))},query(e){return n.query(translateRequest(e))},openCursor(t){const{keyTail:r,isVirtual:i,keyLength:a}=t.query.index;if(!i)return n.openCursor(t);function createVirtualCursor(n){function _continue(i){null!=i?n.continue(pad(i,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}const i=Object.create(n,{continue:{value:_continue},continuePrimaryKey:{value(t,i){n.continuePrimaryKey(pad(t,e.MAX_KEY,r),i)}},primaryKey:{get(){return n.primaryKey}},key:{get(){const e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get(){return n.value}}});return i}return n.openCursor(translateRequest(t)).then(e=>e&&createVirtualCursor(e))}};return l}}}const eK={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:createVirtualIndexMiddleware};function getObjectDiff(e,t,n,r){n=n||{};r=r||"";i(e).forEach(i=>{if(hasOwn(t,i)){var a=e[i],o=t[i];if("object"==typeof a&&"object"==typeof o&&a&&o){const s=toStringTag(a);const l=toStringTag(o);if(s!==l)n[r+i]=t[i];else if("Object"===s)getObjectDiff(a,o,n,r+i+".");else if(a!==o)n[r+i]=t[i]}else if(a!==o)n[r+i]=t[i]}else n[r+i]=void 0});i(t).forEach(i=>{if(!hasOwn(e,i))n[r+i]=t[i]});return n}function getEffectiveKeys(e,t){if("delete"===t.type)return t.keys;return t.keys||t.values.map(e.extractKey)}const eI={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t);const{primaryKey:r}=n.schema;const i={...n,mutate(e){const i=Y.trans;const{deleting:a,creating:o,updating:s}=i.table(t).hook;switch(e.type){case"add":if(o.fire===nop)break;return i._promise("readwrite",()=>addPutOrDelete(e),true);case"put":if(o.fire===nop&&s.fire===nop)break;return i._promise("readwrite",()=>addPutOrDelete(e),true);case"delete":if(a.fire===nop)break;return i._promise("readwrite",()=>addPutOrDelete(e),true);case"deleteRange":if(a.fire===nop)break;return i._promise("readwrite",()=>deleteRange(e),true)}return n.mutate(e);function addPutOrDelete(e){const t=Y.trans;const i=e.keys||getEffectiveKeys(r,e);if(!i)throw new Error("Keys missing");e="add"===e.type||"put"===e.type?{...e,keys:i}:{...e};if("delete"!==e.type)e.values=[...e.values];if(e.keys)e.keys=[...e.keys];return getExistingValues(n,e,i).then(l=>{const u=i.map((n,i)=>{const u=l[i];const h={onerror:null,onsuccess:null};if("delete"===e.type)a.fire.call(h,n,u,t);else if("add"===e.type||void 0===u){const f=o.fire.call(h,n,e.values[i],t);if(null==n&&null!=f){n=f;e.keys[i]=n;if(!r.outbound)setByKeyPath(e.values[i],r.keyPath,n)}}else{const d=getObjectDiff(u,e.values[i]);const p=s.fire.call(h,d,n,u,t);if(p){const m=e.values[i];Object.keys(p).forEach(e=>{if(hasOwn(m,e))m[e]=p[e];else setByKeyPath(m,e,p[e])})}}return h});return n.mutate(e).then(({failures:t,results:n,numFailures:r,lastResult:a})=>{for(let o=0;o<i.length;++o){const s=n?n[o]:i[o];const h=u[o];if(null==s)h.onerror&&h.onerror(t[o]);else h.onsuccess&&h.onsuccess("put"===e.type&&l[o]?e.values[o]:s)}return{failures:t,results:n,numFailures:r,lastResult:a}}).catch(e=>{u.forEach(t=>t.onerror&&t.onerror(e));return Promise.reject(e)})})}function deleteRange(e){return deleteNextChunk(e.trans,e.range,1e4)}function deleteNextChunk(e,t,i){return n.query({trans:e,values:false,query:{index:r,range:t},limit:i}).then(({result:n})=>{return addPutOrDelete({type:"delete",keys:n,trans:e}).then(r=>{if(r.numFailures>0)return Promise.reject(r.failures[0]);if(n.length<i)return{failures:[],numFailures:0,lastResult:void 0};return deleteNextChunk(e,{...t,lower:n[n.length-1],lowerOpen:true},i)})})}}};return i}})};function getExistingValues(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}let eF;function cmp(e,t){if(eF)return eF(e,t);const{indexedDB:n}=e_;if(!n)throw new R.MissingAPI;eF=(e,t)=>{try{return null==e||null==t?NaN:n.cmp(e,t)}catch(r){return NaN}};return eF(e,t)}function getFromTransactionCache(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let i=0,a=0;i<t.keys.length&&a<e.length;++i)if(0===cmp(t.keys[i],e[a])){r.push(n?deepClone(t.values[i]):t.values[i]);++a}return r.length===e.length?r:null}catch(o){return null}}const ej={stack:"dbcore",level:-1,create:e=>{return{table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=getFromTransactionCache(e.keys,e.trans["_cache"],"clone"===e.cache);if(t)return DexiePromise.resolve(t);return n.getMany(e).then(t=>{e.trans["_cache"]={keys:e.keys,values:"clone"===e.cache?deepClone(t):t};return t})},mutate:e=>{if("add"!==e.type)e.trans["_cache"]=null;return n.mutate(e)}}}}}};function isEmptyRange(e){return!("from"in e)}const RangeSet=function(e,t){if(this)extend(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{const n=new RangeSet;if(e&&"d"in e)extend(n,e);return n}};props(RangeSet.prototype,{add(e){mergeRanges(this,e);return this},addKey(e){addRange(this,e,e);return this},addKeys(e){e.forEach(e=>addRange(this,e,e));return this},[y](){return getRangeSetIterator(this)}});function addRange(e,t,n){const r=cmp(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(isEmptyRange(e))return extend(e,{from:t,to:n,d:1});const i=e.l;const a=e.r;if(cmp(n,e.from)<0){i?addRange(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null};return rebalance(e)}if(cmp(t,e.to)>0){a?addRange(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null};return rebalance(e)}if(cmp(t,e.from)<0){e.from=t;e.l=null;e.d=a?a.d+1:1}if(cmp(n,e.to)>0){e.to=n;e.r=null;e.d=e.l?e.l.d+1:1}const o=!e.r;if(i&&!e.l)mergeRanges(e,i);if(a&&o)mergeRanges(e,a)}function mergeRanges(e,t){function _addRangeSet(e,{from:t,to:n,l:r,r:i}){addRange(e,t,n);if(r)_addRangeSet(e,r);if(i)_addRangeSet(e,i)}if(!isEmptyRange(t))_addRangeSet(e,t)}function rangesOverlap(e,t){const n=getRangeSetIterator(t);let r=n.next();if(r.done)return false;let i=r.value;const a=getRangeSetIterator(e);let o=a.next(i.from);let s=o.value;while(!r.done&&!o.done){if(cmp(s.from,i.to)<=0&&cmp(s.to,i.from)>=0)return true;cmp(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(o=a.next(i.from)).value}return false}function getRangeSetIterator(e){let t=isEmptyRange(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;while(t)switch(t.s){case 0:t.s=1;if(n)while(t.n.l&&cmp(e,t.n.from)<0)t={up:t,n:t.n.l,s:1};else while(t.n.l)t={up:t,n:t.n.l,s:1};case 1:t.s=2;if(!n||cmp(e,t.n.to)<=0)return{value:t.n,done:false};case 2:if(t.n.r){t.s=3;t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:true}}}}function rebalance(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0);const i=r>1?"r":r<-1?"l":"";if(i){const a="r"===i?"l":"r";const o={...e};const s=e[i];e.from=s.from;e.to=s.to;e[i]=s[i];o[i]=s[a];e[a]=o;o.d=computeDepth(o)}e.d=computeDepth(e)}function computeDepth({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}const eB={stack:"dbcore",level:0,create:e=>{const t=e.schema.name;const n=new RangeSet(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const o=e.table(r);const{schema:s}=o;const{primaryKey:l}=s;const{extractKey:u,outbound:h}=l;const f={...o,mutate:e=>{const i=e.trans;const l=i.mutatedParts||(i.mutatedParts={});const getRangeSet=e=>{const n=`idb://${t}/${r}/${e}`;return l[n]||(l[n]=new RangeSet)};const u=getRangeSet("");const h=getRangeSet(":dels");const{type:f}=e;let[d,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const m=e.trans["_cache"];return o.mutate(e).then(e=>{if(a(d)){if("delete"!==f)d=e.results;u.addKeys(d);const t=getFromTransactionCache(d,m);if(!t&&"add"!==f)h.addKeys(d);if(t||p)trackAffectedIndexes(getRangeSet,s,t,p)}else if(d){const r={from:d.lower,to:d.upper};h.add(r);u.add(r)}else{u.add(n);h.add(n);s.indexes.forEach(e=>getRangeSet(e.name).add(n))}return e})}};const getRange=({query:{index:t,range:n}})=>{var r,i;return[t,new RangeSet(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(i=n.upper)&&void 0!==i?i:e.MAX_KEY)]};const d={get:e=>[l,new RangeSet(e.key)],getMany:e=>[l,new RangeSet().addKeys(e.keys)],count:getRange,query:getRange,openCursor:getRange};i(d).forEach(e=>{f[e]=function(i){const{subscr:a}=Y;if(a){const getRangeSet=e=>{const n=`idb://${t}/${r}/${e}`;return a[n]||(a[n]=new RangeSet)};const s=getRangeSet("");const l=getRangeSet(":dels");const[f,p]=d[e](i);getRangeSet(f.name||"").add(p);if(!f.isPrimaryKey)if("count"===e)l.add(n);else{const m="query"===e&&h&&i.values&&o.query({...i,values:false});return o[e].apply(this,arguments).then(t=>{if("query"===e){if(h&&i.values)return m.then(({result:e})=>{s.addKeys(e);return t});const n=i.values?t.result.map(u):t.result;if(i.values)s.addKeys(n);else l.addKeys(n)}else if("openCursor"===e){const r=t;const a=i.values;return r&&Object.create(r,{key:{get(){l.addKey(r.primaryKey);return r.key}},primaryKey:{get(){const e=r.primaryKey;l.addKey(e);return e}},value:{get(){a&&s.addKey(r.primaryKey);return r.value}}})}return t})}}return o[e].apply(this,arguments)}});return f}}}};function trackAffectedIndexes(e,t,n,r){function addAffectedIndex(t){const i=e(t.name||"");function extractKey(e){return null!=e?t.extractKey(e):null}const addKeyOrKeys=e=>t.multiEntry&&a(e)?e.forEach(e=>i.addKey(e)):i.addKey(e);(n||r).forEach((e,t)=>{const i=n&&extractKey(n[t]);const a=r&&extractKey(r[t]);if(0!==cmp(i,a)){if(null!=i)addKeyOrKeys(i);if(null!=a)addKeyOrKeys(a)}})}t.indexes.forEach(addAffectedIndex)}class e${constructor(e,t){this._middlewares={};this.verno=0;const n=e$.dependencies;this._options=t={addons:e$.addons,autoOpen:true,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t};this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={};this._versions=[];this._storeNames=[];this._allTables={};this.idbdb=null;this._novip=this;const i={dbOpenError:null,isBeingOpened:false,onReadyBeingFired:null,openComplete:false,dbReadyResolve:nop,dbReadyPromise:null,cancelOpen:nop,openCanceller:null,autoSchema:true};i.dbReadyPromise=new DexiePromise(e=>{i.dbReadyResolve=e});i.openCanceller=new DexiePromise((e,t)=>{i.cancelOpen=t});this._state=i;this.name=e;this.on=Events(this,"populate","blocked","versionchange","close",{ready:[promisableChain,nop]});this.on.ready.subscribe=override(this.on.ready.subscribe,e=>{return(t,n)=>{e$.vip(()=>{const r=this._state;if(r.openComplete){if(!r.dbOpenError)DexiePromise.resolve().then(t);if(n)e(t)}else if(r.onReadyBeingFired){r.onReadyBeingFired.push(t);if(n)e(t)}else{e(t);const i=this;if(!n)e(function unsubscribe(){i.on.ready.unsubscribe(t);i.on.ready.unsubscribe(unsubscribe)})}})}});this.Collection=createCollectionConstructor(this);this.Table=createTableConstructor(this);this.Transaction=createTransactionConstructor(this);this.Version=createVersionConstructor(this);this.WhereClause=createWhereClauseConstructor(this);this.on("versionchange",e=>{if(e.newVersion>0)console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`);else console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`);this.close()});this.on("blocked",e=>{if(!e.newVersion||e.newVersion<e.oldVersion)console.warn(`Dexie.delete('${this.name}') was blocked`);else console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)});this._maxKey=getMaxKey(t.IDBKeyRange);this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r);this._fireOnBlocked=e=>{this.on("blocked").fire(e);em.filter(e=>e.name===this.name&&e!==this&&!e._state.vcFired).map(t=>t.on("versionchange").fire(e))};this.use(eK);this.use(eI);this.use(eB);this.use(ej);this.vip=Object.create(this,{_vip:{value:true}});r.forEach(e=>e(this))}version(e){if(isNaN(e)||e<.1)throw new R.Type("Given version is not a positive number");e=Math.round(10*e)/10;if(this.idbdb||this._state.isBeingOpened)throw new R.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter(t=>t._cfg.version===e)[0];if(n)return n;n=new this.Version(e);t.push(n);t.sort(lowerVersionFirst);n.stores({});this._state.autoSchema=false;return n}_whenReady(e){return this.idbdb&&(this._state.openComplete||Y.letThrough||this._vip)?e():new DexiePromise((e,t)=>{if(this._state.openComplete)return t(new R.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen){t(new R.DatabaseClosed);return}this.open().catch(nop)}this._state.dbReadyPromise.then(e,t)}).then(e)}use({stack:e,create:t,level:n,name:r}){if(r)this.unuse({stack:e,name:r});const i=this._middlewares[e]||(this._middlewares[e]=[]);i.push({stack:e,create:t,level:null==n?10:n,name:r});i.sort((e,t)=>e.level-t.level);return this}unuse({stack:e,name:t,create:n}){if(e&&this._middlewares[e])this._middlewares[e]=this._middlewares[e].filter(e=>n?e.create!==n:!!t&&e.name!==t);return this}open(){return dexieOpen(this)}_close(){const e=this._state;const t=em.indexOf(this);if(t>=0)em.splice(t,1);if(this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}e.dbReadyPromise=new DexiePromise(t=>{e.dbReadyResolve=t});e.openCanceller=new DexiePromise((t,n)=>{e.cancelOpen=n})}close(){this._close();const e=this._state;this._options.autoOpen=false;e.dbOpenError=new R.DatabaseClosed;if(e.isBeingOpened)e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0;const t=this._state;return new DexiePromise((n,r)=>{const doDelete=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=wrap(()=>{_onDatabaseDeleted(this._deps,this.name);n()});e.onerror=eventRejectHandler(r);e.onblocked=this._fireOnBlocked};if(e)throw new R.InvalidArgument("Arguments not allowed in db.delete()");if(t.isBeingOpened)t.dbReadyPromise.then(doDelete);else doDelete()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return i(this._allTables).map(e=>this._allTables[e])}transaction(){const e=extractTransactionArgs.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Y.trans;if(!r||r.db!==this||-1!==e.indexOf("!"))r=null;const i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");let a,o;try{o=t.map(e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t});if("r"==e||e===ew)a=ew;else if("rw"==e||e==ex)a=ex;else throw new R.InvalidArgument("Invalid transaction mode: "+e);if(r){if(r.mode===ew&&a===ex)if(i)r=null;else throw new R.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");if(r)o.forEach(e=>{if(r&&-1===r.storeNames.indexOf(e))if(i)r=null;else throw new R.SubTransaction("Table "+e+" not included in parent transaction.")});if(i&&r&&!r.active)r=null}}catch(s){return r?r._promise(null,(e,t)=>{t(s)}):ec(s)}const l=enterTransactionScope.bind(null,this,a,o,r,n);return r?r._promise(a,l,"lock"):Y.trans?usePSD(Y.transless,()=>this._whenReady(l)):this._whenReady(l)}table(e){if(!hasOwn(this._allTables,e))throw new R.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const eH="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol["observable"]:"@@observable";class eL{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[eH](){return this}}function extendObservabilitySet(e,t){i(t).forEach(n=>{const r=e[n]||(e[n]=new RangeSet);mergeRanges(r,t[n])});return e}function liveQuery(e){return new eL(t=>{const n=w(e);function execute(t){if(n)incrementExpectedAwaits();const exec=()=>newScope(e,{subscr:t,trans:null});const r=Y.trans?usePSD(Y.transless,exec):exec();if(n)r.then(decrementExpectedAwaits,decrementExpectedAwaits);return r}let r=false;let a={};let o={};const s={get closed(){return r},unsubscribe:()=>{r=true;eD.storagemutated.unsubscribe(mutationListener)}};t.start&&t.start(s);let l=false,u=false;function shouldNotify(){return i(o).some(e=>a[e]&&rangesOverlap(a[e],o[e]))}const mutationListener=e=>{extendObservabilitySet(a,e);if(shouldNotify())doQuery()};const doQuery=()=>{if(l||r)return;a={};const e={};const n=execute(e);if(!u){eD(eE,mutationListener);u=true}l=true;Promise.resolve(n).then(n=>{l=false;if(r)return;if(shouldNotify())doQuery();else{a={};o=e;t.next&&t.next(n)}},e=>{l=false;t.error&&t.error(e);s.unsubscribe()})};doQuery();return s})}const eN=e$;props(eN,{...O,delete(e){const t=new eN(e,{addons:[]});return t.delete()},exists(e){return new eN(e,{addons:[]}).open().then(e=>{e.close();return true}).catch("NoSuchDatabaseError",()=>false)},getDatabaseNames(e){try{return getDatabaseNames(eN.dependencies).then(e)}catch(t){return ec(new R.MissingAPI)}},defineClass(){function Class(e){extend(this,e)}return Class},ignoreTransaction(e){return Y.trans?usePSD(Y.transless,e):e()},vip,async:function(e){return function(){try{var t=awaitIterator(e.apply(this,arguments));if(!t||"function"!=typeof t.then)return DexiePromise.resolve(t);return t}catch(n){return ec(n)}}},spawn:function(e,t,n){try{var r=awaitIterator(e.apply(n,t||[]));if(!r||"function"!=typeof r.then)return DexiePromise.resolve(r);return r}catch(i){return ec(i)}},currentTransaction:{get:()=>Y.trans||null},waitFor:function(e,t){const n=DexiePromise.resolve("function"==typeof e?eN.ignoreTransaction(e):e).timeout(t||6e4);return Y.trans?Y.trans.waitFor(n):n},Promise:DexiePromise,debug:{get:()=>x,set:e=>{setDebug(e,"dexie"===e?()=>true:dexieStackFrameFilter)}},derive:derive,extend:extend,props:props,override:override,Events:Events,on:eD,liveQuery,extendObservabilitySet,getByKeyPath:getByKeyPath,setByKeyPath:setByKeyPath,delByKeyPath:delByKeyPath,shallowClone:shallowClone,deepClone:deepClone,getObjectDiff:getObjectDiff,asap:asap$1,minKey:ef,addons:[],connections:em,errnames:T,dependencies:e_,semVer:eu,version:eu.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))});eN.maxKey=getMaxKey(eN.dependencies.IDBKeyRange);if("undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener){eD(eE,e=>{if(!eq){let t;if(eg){t=document.createEvent("CustomEvent");t.initCustomEvent(eR,true,true,e)}else t=new CustomEvent(eR,{detail:e});eq=true;dispatchEvent(t);eq=false}});addEventListener(eR,({detail:e})=>{if(!eq)propagateLocally(e)})}function propagateLocally(e){let t=eq;try{eq=true;eD.storagemutated.fire(e)}finally{eq=t}}let eq=false;if("undefined"!=typeof BroadcastChannel){const ez=new BroadcastChannel(eR);eD(eE,e=>{if(!eq)ez.postMessage(e)});ez.onmessage=e=>{if(e.data)propagateLocally(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){eD(eE,e=>{try{if(!eq){if("undefined"!=typeof localStorage)localStorage.setItem(eR,JSON.stringify({trig:Math.random(),changedParts:e}));if("object"==typeof self["clients"])[...self["clients"].matchAll({includeUncontrolled:true})].forEach(t=>t.postMessage({type:eR,changedParts:e}))}}catch(t){}});addEventListener("storage",e=>{if(e.key===eR){const t=JSON.parse(e.newValue);if(t)propagateLocally(t.changedParts)}});const eU=self.document&&navigator.serviceWorker;if(eU)eU.addEventListener("message",propagateMessageLocally)}function propagateMessageLocally({data:e}){if(e&&e.type===eR)propagateLocally(e.changedParts)}DexiePromise.rejectionMapper=mapError;setDebug(x,dexieStackFrameFilter);const eV=e$},81904:(e,t,n)=>{"use strict";n.d(t,{Z:()=>pRetry});var r=n(49520);const i=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);class a extends Error{constructor(e){super();if(e instanceof Error){this.originalError=e;({message:e}=e)}else{this.originalError=new Error(e);this.originalError.stack=this.stack}this.name="AbortError";this.message=e}}const decorateErrorWithCounts=(e,t,n)=>{const r=n.retries-(t-1);e.attemptNumber=t;e.retriesLeft=r;return e};const isNetworkError=e=>i.has(e);const getDOMException=e=>void 0===globalThis.DOMException?new Error(e):new DOMException(e);async function pRetry(e,t){return new Promise((n,i)=>{t={onFailedAttempt(){},retries:10,...t};const o=r.operation(t);o.attempt(async r=>{try{n(await e(r))}catch(l){if(!(l instanceof Error)){i(new TypeError(`Non-error was thrown: "${l}". You should only throw errors.`));return}if(l instanceof a){o.stop();i(l.originalError)}else if(l instanceof TypeError&&!isNetworkError(l.message)){o.stop();i(l)}else{decorateErrorWithCounts(l,r,t);try{await t.onFailedAttempt(l)}catch(s){i(s);return}if(!o.retry(l))i(o.mainError())}}});if(t.signal&&!t.signal.aborted)t.signal.addEventListener("abort",()=>{o.stop();const e=void 0===t.signal.reason?getDOMException("The operation was aborted."):t.signal.reason;i(e instanceof Error?e:getDOMException(e))},{once:true})})}}}]);